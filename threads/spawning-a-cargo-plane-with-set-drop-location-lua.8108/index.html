---
layout: forums
title: 'Spawning a Cargo plane with set drop location (LUA)'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/spawning-a-cargo-plane-with-set-drop-location-lua.8108/' | prepend: site.baseurl }}">Spawning a Cargo plane with set drop location (LUA)</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">LaserHydra</a>, <a href="{{ '/threads/spawning-a-cargo-plane-with-set-drop-location-lua.8108/' | prepend: site.baseurl }}"><span class="DateTime"
                title="May 1, 2015 at 1:50 PM">May 1, 2015</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-84109" class="message" data-author="LaserHydra">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="LaserHydra" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">LaserHydra</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> How do I spawn a Cargo plane with a set drop location?<br /> I&#039;ve taken a look at Airdrop Control, and what
                        he used to spawn a cargoplane to a position.<br /> Thats was what he used (in c# tough)<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
            BaseEntity entity = GameManager.server.CreateEntity(&quot;events/cargo_plane&quot;, new Vector3(), new Quaternion());
            if (entity != null)
            {
                var targetPos = new Vector3();
                targetPos.x = Convert.ToSingle(arg.Args[0]);
                targetPos.y = Convert.ToSingle(arg.Args[1]);
                targetPos.z = Convert.ToSingle(arg.Args[2]);
                dropPoint.Add(entity as CargoPlane, targetPos);
                entity.Spawn(true);
                dropPoint.Remove(entity as CargoPlane);</pre>{% endraw %}
                        </div><br /> Thats what I&#039;ve come up with. Propably totally wrong...<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>global.GameManager.server.CreateEntity(&quot;events/cargo_plane&quot;, UnityEngine.Vector3.get_up(), UnityEngine.Quaternion())
dropPoint:Add(CargoPlane, dropPos)
entity:Spawn(true)
dropPoint:Remove(CargoPlane)
</pre>{% endraw %}
                        </div><br /> And i am getting an error here:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>110 attempt to call field 'Quaternion' (a table value):</pre>{% endraw %}
                        </div>------ EDIT -------<br /> I found out for example that he set those dropPoint is set by him elsewhere ^^ but that does not change anything at that error<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>dropPoint = new Dictionary&lt;CargoPlane, Vector3&gt;();</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate"> Last edited by a moderator: <span class="DateTime" title="May 1, 2015 at 2:08 PM">May 1, 2015</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">LaserHydra</a>,</span>
                        <a href="{{ '/threads/spawning-a-cargo-plane-with-set-drop-location-lua.8108/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 1, 2015 at 1:50 PM">May 1, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/spawning-a-cargo-plane-with-set-drop-location-lua.8108/' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/84109/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-84126" class="message" data-author="Mughisi">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Mughisi" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Mughisi</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> The location where the crate is dropped is determined by the starting and ending position of the cargoplane. The
                        crate will always spawn in the middle between the start and the end, so you would want to randomly get a starting location and then calculate the ending position based on the
                        starting location and drop location. And the issue you&#039;re having with Quaternion there is because you&#039;re using it completely no wrong, if you&#039;d want to create a
                        new Quaternion you need to use the new() function.<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>new(UnityEngine.Quaternion._type, nil)</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Mughisi</a>,</span>
                        <a href="{{ '/threads/spawning-a-cargo-plane-with-set-drop-location-lua.8108/#post-84126' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="May 1, 2015 at 2:43 PM">May 1, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/spawning-a-cargo-plane-with-set-drop-location-lua.8108/#post-84126' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/84126/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
</ol>
