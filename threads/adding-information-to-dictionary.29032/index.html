---
layout: forums
title: 'Adding information to Dictionary?'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/adding-information-to-dictionary.29032/' | prepend: site.baseurl }}">Adding information to Dictionary?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">SniperSpool</a>, <a href="{{ '/threads/adding-information-to-dictionary.29032/' | prepend: site.baseurl }}"><span class="DateTime" title="Jan 14, 2018 at 4:25 PM">Jan 14,
                2018</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-379553" class="message" data-author="SniperSpool">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="SniperSpool" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">SniperSpool</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">So i have managed to Create and add information to a dictionary and then alter the already existing data in there,
                        however how would i achieve or is it possible to add new information to an existing key ?<br />
                        <br /> So for exapmple i wanted to add to the end of this key bellow PID, lets say &quot;rotation&quot; : &quot;13.93&quot; ?<br />
                        <br /> Something like #<br /> if (key = 18814540){<br /> add rotation<br /> }<br /> Thanks loads<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>{
  &quot;Dictionary&quot;: {
    &quot;18814540&quot;: {
      &quot;DisplayName&quot;: &quot;[MD] SniperSpool&quot;,
      &quot;PlayerLocationx&quot;: &quot;1298.168&quot;,
      &quot;PlayerLocationy&quot;: &quot;13.931&quot;,
      &quot;PlayerLocationz&quot;: &quot;975.916&quot;,
      &quot;CID&quot;: &quot;2822330&quot;,
      &quot;PID&quot;: &quot;76561198126816619&quot;
    }
  }
}</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">SniperSpool</a>,</span>
                        <a href="{{ '/threads/adding-information-to-dictionary.29032/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 14, 2018 at 4:25 PM">Jan 14, 2018</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/adding-information-to-dictionary.29032/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/379553/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-379558" class="message" data-author="HOUGAN_Y">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="HOUGAN_Y" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">HOUGAN_Y</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Simple guide how to work with Dictionary.<br /> Create dictionary:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>Dictionary&lt;ulong, string&gt; nameDictionary = new Dictionary&lt;ulong, string&gt;();</pre>{% endraw %}
                        </div>Add value to key:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>nameDictionary.Add(key, value);</pre>{% endraw %}
                        </div>Better to check is key added already<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>if (!nameDictionary.ContainsKey(key))
{
nameDictionary.Add(key, value);
}</pre>{% endraw %}
                        </div>Changing value of dictionary with key<br /> Better to check is key added already<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>if (nameDictionary.ContainsKey(key))
{
nameDictionary[key] = value;
}</pre>{% endraw %}
                        </div>if tValue of dictionary is List&lt;string&gt; for example, than you can add value with ~ way:<br /> Better to check is key added already<br /> [/CODE]if
                        (nameDictionary.ContainsKey(key))<br /> {<br /> nameDictionary[key].Add(value);<br /> }[/CODE]<br />
                        <br /> Cause tValue of this Dictionary is List you should add value with same method. If you want to change value in dictionary which tValue is List, for e.x.<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>nameDictionary[key][0] = &quot;teststring&quot;;</pre>{% endraw %}
                        </div>Where 0 - number of string in list that should be changed.<br />
                        <br /> -------------<br /> In your situation tValue of your Dictionary is custom Class with info, something like<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>class Custom {
string PlayerLocationx;
string PlayerLocationy;
string PlayerLocationz;
string CID;
string PID;
}</pre>{% endraw %}
                        </div>If you want to add Rotation - you should modify main Class, so add new string Rotation.<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>class Custom {
string PlayerLocationx;
string PlayerLocationy;
string PlayerLocationz;
string PlayerRotation;
string CID;
string PID;
}</pre>{% endraw %}
                        </div>And than you can add Rotation to each player, just example of code:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
foreach (var check in BasePlayer.activePlayerList)
{
if (nameDictionary.ContainsKey(check.userId)
nameDictionary[check.userId].PlayerRotation = check.transform.rotation.ToString();
}</pre>{% endraw %}
                        </div>From my experience, ofc, maybe, someone can say it is bad, but when i need to save player position i prefer to use just one string:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>class Save{
string position;
}</pre>{% endraw %}
                        </div>something[someKey].position = player.transform.position.ToString();<br /> Later you can easy convert string to Vector3.<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>player.Teleport(something[someKey].position.ToVector3());</pre>{% endraw %}
                        </div> if i am not mistaken. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate">Last edited by a moderator: <span class="DateTime" title="Jan 14, 2018 at 4:48 PM">Jan 14, 2018</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">HOUGAN_Y</a>,</span>
                        <a href="{{ '/threads/adding-information-to-dictionary.29032/#post-379558' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 14, 2018 at 4:43 PM">Jan 14, 2018</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/adding-information-to-dictionary.29032/#post-379558' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/379558/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-379562" class="message" data-author="SniperSpool">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="SniperSpool" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">SniperSpool</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Is there a way to List the tValue&#039;s of the key ?<br />
                        <br /> Probably better for me to describe what im trying to do.<br />
                        <br /> save a number of signs based on there NET.ID&#039;s. so i can for example.<br />
                        <br />
                        <br /> &quot;DisplayName&quot;: &quot;[MD] SniperSpool&quot;,<br /> &quot;PlayerLocationx&quot;: &quot;1298.168&quot;,<br /> &quot;PlayerLocationy&quot;:
                        &quot;13.931&quot;,<br /> &quot;PlayerLocationz&quot;: &quot;975.916&quot;,<br /> &quot;CID&quot;: &quot;2822330&quot;,<br /> &quot;PID&quot;:
                        &quot;76561198126816619&quot;<br /> --<br /> &quot;IMG1&quot; : &quot;NET ID , IMGINFO&quot;<br /> &quot;IMG2&quot; : &quot;NET ID, IMGINFO&quot;<br /> --<br /> i can then go
                        through the list splitting the NET ID and Image info, looking at img1 to see if the NET id of save, matches the Net ID of the current component, if it does then do what i need
                        it to do <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">SniperSpool</a>,</span>
                        <a href="{{ '/threads/adding-information-to-dictionary.29032/#post-379562' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 14, 2018 at 5:07 PM">Jan 14, 2018</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/adding-information-to-dictionary.29032/#post-379562' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/379562/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-379563" class="message" data-author="HOUGAN_Y">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="HOUGAN_Y" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">HOUGAN_Y</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Ehrm, sorry here i can&#039;t help you, never worked hard on Signs. One questions, your final target see amount of
                        signs? If yes - you dont need anything from this. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">HOUGAN_Y</a>,</span>
                        <a href="{{ '/threads/adding-information-to-dictionary.29032/#post-379563' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 14, 2018 at 5:12 PM">Jan 14, 2018</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/adding-information-to-dictionary.29032/#post-379563' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/379563/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-379568" class="message" data-author="SniperSpool">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="SniperSpool" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">SniperSpool</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">What im doing is playing with the Gyro copter from <span style="font-size: 15px"><b><a
                                    href="https://oxidemod.org/members/colon-blow.51636/" class="internalLink">Colon Blow </a></b><a href="https://oxidemod.org/members/colon-blow.51636/"
                                class="internalLink">trying to make it persistent, ive managed to get it to save and respawn, in its last position, but odv as its being respawn, the code and images
                                from the Signs are refreshed, i can get the image from the sign, and save it, however as they respawn they get new NETID&#039;s, so i therefor need a way to be able to
                                get a new list of the NET ID&#039;s for all the signs on the copter so i can then save them and the images that go along with that.<br />
                                <br /> if i can make a list of the sections within the key i can then check the values of those to see if they match and load the new ID&#039;s etc.</a><br />
                            <br /> So to make a list of the keys i can use<br /> List&lt;String&gt; ItemKeys = ChopperCache.Keys.ToList();<br /> however im unsure how to get a list of the tvalue
                            bellow each key.</span>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">SniperSpool</a>,</span>
                        <a href="{{ '/threads/adding-information-to-dictionary.29032/#post-379568' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 14, 2018 at 5:23 PM">Jan 14, 2018</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/adding-information-to-dictionary.29032/#post-379568' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/379568/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-379571" class="message" data-author="HOUGAN_Y">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="HOUGAN_Y" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">HOUGAN_Y</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">foreach (var check in myDictionary)<br /> {<br /> List&lt;string&gt; ItemKeys = check.Keys.ToList();<br /> }<br />
                        <br /> Anyway i can&#039;t understand why do you need list of Keys :/ <br /> Sorry, maybe language barrier. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">HOUGAN_Y</a>,</span>
                        <a href="{{ '/threads/adding-information-to-dictionary.29032/#post-379571' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 14, 2018 at 5:33 PM">Jan 14, 2018</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/adding-information-to-dictionary.29032/#post-379571' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/379571/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-379577" class="message" data-author="SniperSpool">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="SniperSpool" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">SniperSpool</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Save info<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
            var UniqueID = chairmount.net.ID;
            var ItemKey = Convert.ToInt32(Math.Round(Convert.ToDouble(UnityEngine.Random.Range(Convert.ToSingle(0), Convert.ToSingle(99999999))))).ToString();
                       
                if (!ChopperCache.ContainsKey(ItemKey))
                {
                    ChopperCache.Add(ItemKey, new ChopperInformation {
                         DisplayName = player.displayName.ToString(),
                         PlayerLocationx = player.transform.position.x.ToString(),
                         PlayerLocationy = player.transform.position.y.ToString(),
                         PlayerLocationz = player.transform.position.z.ToString(),
                         ChopperID = UniqueID.ToString(),
                         PID = player.userID.ToString()
                    });
                        SaveData();
                } </pre>{% endraw %}
                        </div>Update info<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
            var UniqueID = mountable.net.ID.ToString();
            List&lt;String&gt; ItemKey = ChopperCache.Keys.ToList();
                    foreach (var ChopKey in ItemKey)
                        {
                        if (ChopperCache[ChopKey].ChopperID == UniqueID)
                            {                  
                                 ChopperCache[ChopKey].PlayerLocationx = player.transform.position.x.ToString();
                                 ChopperCache[ChopKey].PlayerLocationy = player.transform.position.y.ToString();
                                 ChopperCache[ChopKey].PlayerLocationz = player.transform.position.z.ToString();               
                                 SaveData();          
                            }
                        }</pre>{% endraw %}
                        </div>Does that make any more sence now ?<br />
                        <br />
                        <br /> ---- ADDED ----<br />
                        <br /> Forgot to add the bit when i spawn the new gyro<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
            List&lt;String&gt; ItemKeys = ChopperCache.Keys.ToList();
            foreach (var ChopKey in ItemKeys)
                {                    var locxa = ChopperCache[ChopKey].PlayerLocationx;
                    var locya = ChopperCache[ChopKey].PlayerLocationy;
                    var locza = ChopperCache[ChopKey].PlayerLocationz;
                    
                        float locx = float.Parse(locxa);
                        float locy = float.Parse(locya);
                        float locz = float.Parse(locza);
                    
            var spawnpos = new Vector3(locx,locy,locz);            var PID = ChopperCache[ChopKey].PID;
            var OwnID = Convert.ToUInt64(PID);
            newCopter.OwnerID = OwnID;
            newCopter.Spawn();       
            ChopperCache[ChopKey].ChopperID = chairmount.net.ID.ToString();            SaveData();               
            }</pre>{% endraw %}
                        </div>Obv ive Removed the acctual chopper spawn bits <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate">Last edited by a moderator: <span class="DateTime" title="Jan 14, 2018 at 6:04 PM">Jan 14, 2018</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">SniperSpool</a>,</span>
                        <a href="{{ '/threads/adding-information-to-dictionary.29032/#post-379577' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 14, 2018 at 5:59 PM">Jan 14, 2018</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/adding-information-to-dictionary.29032/#post-379577' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/379577/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
</ol>
