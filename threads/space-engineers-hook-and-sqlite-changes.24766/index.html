---
layout: forums
title: 'Request - Space Engineers hook and SQLite changes'
breadcrumbs:
 - "Feature Suggestions": "/forums/feature-suggestions.6/"
---
<div class="titleBar">
    <h1>
        <span class="prefix prefixOrange">Request</span> <a href="{{ '/threads/space-engineers-hook-and-sqlite-changes.24766/' | prepend: site.baseurl }}">Space Engineers hook and SQLite changes</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/feature-suggestions.6/' | prepend: site.baseurl }}">Feature Suggestions</a>' started by <a class="username"
            dir="auto">JimLess</a>, <a href="{{ '/threads/space-engineers-hook-and-sqlite-changes.24766/' | prepend: site.baseurl }}"><span class="DateTime" title="Apr 2, 2017 at 10:54 AM">Apr 2,
                2017</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-312019" class="message" data-author="JimLess">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="JimLess" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">JimLess</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> According to the latest changes in the SE, it is required to update the oxide for it. In particular, the
                        hooks(attached), and there is a difference in System.Data.SQLite.dll (InfinarioSDK.dll except with wrong version). My solution exclude from archive
                        System.Data.SQLite.dll.<br /> p.s. some new hooks comming soon... <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
                <div class="attachedFiles">
                    <h4 class="attachedFilesHeader">Attached Files:</h4>
                    <ul class="attachmentList SquareThumbs" data-thumb-height="50" data-thumb-selector="div.thumbnail > a">
                        <li class="attachment" title="SpaceEngineers.zip">
                            <div class="boxModelFixer primaryContent">
                                <div class="thumbnail">
                                    <a href="attachments/spaceengineers-zip.35587/" target="_blank" class="genericAttachment"></a>
                                </div>
                                <div class="attachmentInfo pairsJustified">
                                    <h6 class="filename"><a href="attachments/spaceengineers-zip.35587/" target="_blank">SpaceEngineers.zip</a></h6>
                                    <dl>
                                        <dt>File size:</dt>
                                        <dd>1 KB</dd>
                                    </dl>
                                    <dl>
                                        <dt>Views:</dt>
                                        <dd>18</dd>
                                    </dl>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="editDate"> Last edited by a moderator: <span class="DateTime" title="Apr 2, 2017 at 2:37 PM">Apr 2, 2017</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">JimLess</a>,</span>
                        <a href="{{ '/threads/space-engineers-hook-and-sqlite-changes.24766/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Apr 2, 2017 at 10:54 AM">Apr 2, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/space-engineers-hook-and-sqlite-changes.24766/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/312019/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-312101" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> We aren&#039;t really actively updating for Space Engineers until there is more put into making the support for
                        it usable. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/space-engineers-hook-and-sqlite-changes.24766/#post-312101' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Apr 2, 2017 at 8:29 PM">Apr 2, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/space-engineers-hook-and-sqlite-changes.24766/#post-312101' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/312101/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-321534" class="message" data-author="JimLess">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="JimLess" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">JimLess</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I make some works for integration to SE. I make pull request, u can decline/close it and then make changes by
                        your hands. This working copy. No enough functionality, only working chat commands(for my shop script).<br /> For silent commands(hidden from all others players), need install
                        workshop mod id 908585300 on server.<br />
                        <b>source code for client side:</b><br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>using Sandbox.ModAPI;
using System;
using VRage.Game;
using VRage.Game.Components;namespace Oxide
{
    [MySessionComponentDescriptor(MyUpdateOrder.BeforeSimulation)]
    public class ClientSide : MySessionComponentBase
    {
        public static bool Inited { get; private set; }
        public static bool IsServer { get; private set; }        private int Frame;        void Init()
        {
            IsServer = MyAPIGateway.Multiplayer.IsServer || MyAPIGateway.Session.OnlineMode == MyOnlineModeEnum.OFFLINE;
            MyAPIGateway.Utilities.MessageEntered += ChatMessageEntered;
            Inited = true;
        }        protected override void UnloadData()
        {
            if (Inited)
                MyAPIGateway.Utilities.MessageEntered -= ChatMessageEntered;
        }        public override void UpdateBeforeSimulation()
        {
            if (MyAPIGateway.Session == null || MyAPIGateway.Utilities == null || MyAPIGateway.Multiplayer == null) // exit if api is not ready
                return;            if (!Inited)
                Init();
        }        public static void ChatMessageEntered(string messageText, ref bool sendToOthers)
        {
            if (!messageText.StartsWith(&quot;/&quot;, StringComparison.OrdinalIgnoreCase))
                return;
            MyAPIGateway.Multiplayer.SendMessageToServer(0xff20, System.Text.Encoding.Unicode.GetBytes(MyAPIGateway.Session.Player.SteamUserId + &quot;,&quot; + messageText));
            sendToOthers = false;
        }
    }
}
</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">JimLess</a>,</span>
                        <a href="{{ '/threads/space-engineers-hook-and-sqlite-changes.24766/#post-321534' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 5, 2017 at 3:24 PM">May 5, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/space-engineers-hook-and-sqlite-changes.24766/#post-321534' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/321534/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-321553" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="JimLess">
                            <aside>
                                <div class="attribution type">JimLess said: <a href="#post-321534" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">I make some works for integration to SE. I make pull request, u can decline/close it and then make changes by your hands. This working copy. No
                                        enough functionality, only working chat commands(for my shop script).<br /> For silent commands(hidden from all others players), need install workshop mod id
                                        908585300 on server.<br />
                                        <b>source code for client side:</b><br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>using Sandbox.ModAPI;
using System;
using VRage.Game;
using VRage.Game.Components;namespace Oxide
{
    [MySessionComponentDescriptor(MyUpdateOrder.BeforeSimulation)]
    public class ClientSide : MySessionComponentBase
    {
        public static bool Inited { get; private set; }
        public static bool IsServer { get; private set; }        private int Frame;        void Init()
        {
            IsServer = MyAPIGateway.Multiplayer.IsServer || MyAPIGateway.Session.OnlineMode == MyOnlineModeEnum.OFFLINE;
            MyAPIGateway.Utilities.MessageEntered += ChatMessageEntered;
            Inited = true;
        }        protected override void UnloadData()
        {
            if (Inited)
                MyAPIGateway.Utilities.MessageEntered -= ChatMessageEntered;
        }        public override void UpdateBeforeSimulation()
        {
            if (MyAPIGateway.Session == null || MyAPIGateway.Utilities == null || MyAPIGateway.Multiplayer == null) // exit if api is not ready
                return;            if (!Inited)
                Init();
        }        public static void ChatMessageEntered(string messageText, ref bool sendToOthers)
        {
            if (!messageText.StartsWith(&quot;/&quot;, StringComparison.OrdinalIgnoreCase))
                return;
            MyAPIGateway.Multiplayer.SendMessageToServer(0xff20, System.Text.Encoding.Unicode.GetBytes(MyAPIGateway.Session.Player.SteamUserId + &quot;,&quot; + messageText));
            sendToOthers = false;
        }
    }
}
</pre>{% endraw %}
                                        </div>
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>I&#039;m not sure what that code portion has to do with Oxide, could you provide any details? The pull requests you submitted need to be cleaned up and only have the
                        changed portions submitted instead of a merge commit of all commits that you personal repo didn&#039;t originally have. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/space-engineers-hook-and-sqlite-changes.24766/#post-321553' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 5, 2017 at 4:50 PM">May 5, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/space-engineers-hook-and-sqlite-changes.24766/#post-321553' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/321553/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-321571" class="message" data-author="JimLess">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="JimLess" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">JimLess</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> This part of the code is necessary so that other players do not receive chat commands. It blocks sending them to
                        all game clients and sends them only to the server. Everything works fine without it. But, everyone will see what you write in the chat. I already added this to the mod as a
                        script(all workshop mods used by clients and server). You can download the mod and see how it works. Upload and publish it from your account and then u can recommend using it
                        on your pages. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">JimLess</a>,</span>
                        <a href="{{ '/threads/space-engineers-hook-and-sqlite-changes.24766/#post-321571' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 5, 2017 at 5:50 PM">May 5, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/space-engineers-hook-and-sqlite-changes.24766/#post-321571' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/321571/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-321572" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="JimLess">
                            <aside>
                                <div class="attribution type">JimLess said: <a href="#post-321571" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">This part of the code is necessary so that other players do not receive chat commands. It blocks sending them to all game clients and sends them
                                        only to the server. Everything works fine without it. But, everyone will see what you write in the chat. I already added this to the mod as a script(all
                                        workshop mods used by clients and server). You can download the mod and see how it works. Upload and publish it from your account and then u can recommend using
                                        it on your pages.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>I&#039;m not sure that is necessary, but I&#039;ll take a look. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/space-engineers-hook-and-sqlite-changes.24766/#post-321572' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 5, 2017 at 5:51 PM">May 5, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/space-engineers-hook-and-sqlite-changes.24766/#post-321572' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/321572/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
</ol>
