---
layout: forums
title: 'Intercept blueprint use?'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/intercept-blueprint-use.10567/' | prepend: site.baseurl }}">Intercept blueprint use?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">Deicide666ra</a>, <a href="{{ '/threads/intercept-blueprint-use.10567/' | prepend: site.baseurl }}"><span class="DateTime" title="Jul 27, 2015 at 3:19 PM">Jul 27,
                2015</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-112814" class="message" data-author="Deicide666ra">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Deicide666ra" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Deicide666ra</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I&#039;d like to intercept blueprint use to prevent players to use them at all. Is there an existing hook that
                        would do that? I&#039;m working on a plugin to revamp research and I&#039;d like to keep blueprint drops but change them to a resource rather than a usable item as they are
                        now. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Deicide666ra</a>,</span>
                        <a href="{{ '/threads/intercept-blueprint-use.10567/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jul 27, 2015 at 3:19 PM">Jul 27, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/intercept-blueprint-use.10567/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/112814/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-112850" class="message" data-author="WolfsDarker">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="WolfsDarker" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">WolfsDarker</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Just remove them from loots? Would be easier. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">WolfsDarker</a>,</span>
                        <a href="{{ '/threads/intercept-blueprint-use.10567/#post-112850' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jul 27, 2015 at 4:34 PM">Jul 27, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/intercept-blueprint-use.10567/#post-112850' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/112850/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-112855" class="message" data-author="PaiN">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="PaiN" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">PaiN</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <a href="https://oxidemod.org/members/28556/" class="username" data-user="28556, @Deicide666ra">@Deicide666ra</a><br /> I found something in the Assembly that might help
                        you<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
{
            BasePlayer basePlayer = args.Player();
            if (!basePlayer)
            {
                return;
            }
            if (basePlayer.IsDead())
            {
                return;
            }
            int num = args.GetInt(0, 0);
            basePlayer.inventory.crafting.CancelBlueprint(num);
        }
</pre>{% endraw %}
                        </div>
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
{
            BasePlayer basePlayer = args.Player();
            if (!basePlayer)
            {
                return;
            }
            if (basePlayer.IsDead())
            {
                return;
            }
            int num = args.GetInt(0, 0);
            if (basePlayer.inventory.crafting.CancelTask(num, true))
            {
                return;
            }
            args.ReplyWith(&quot;Couldn't cancel task!&quot;);
        }
</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">PaiN</a>,</span>
                        <a href="{{ '/threads/intercept-blueprint-use.10567/#post-112855' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jul 27, 2015 at 4:49 PM">Jul 27, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/intercept-blueprint-use.10567/#post-112855' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/112855/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-112856" class="message" data-author="Deicide666ra">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Deicide666ra" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Deicide666ra</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="WolfsDarker">
                            <aside>
                                <div class="attribution type">WolfsDarker said: <a href="#post-112850" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Just remove them from loots? Would be easier.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>I could as a last resort but that&#039;s not what I want. I want to eliminate blueprints as they exist now but recycle the &quot;item&quot; so it becomes a resource you
                        can use to boost your research at the research table. Say you want to learn how to make an AK, you won&#039;t be able to just right-click the AK blueprint to learn it,
                        you&#039;ll need to gather up the mats, have an actual AK, paper and go to the research table. Each blueprint for an AK you have in your inventory when trying to research will
                        boost your research by say 25%.<br />
                        <br /> This way instead of just trashing the blueprints, I&#039;m re-using them to boost research.<br />
                        <br /> I&#039;m working on a mod that makes each research fail on an item increase your chances of successfully researching it on next attempts. You can read about the concept
                        here:<br />
                        <a href="https://www.reddit.com/r/playrust/comments/3emq0w/research_and_blueprints_how_i_think_it_should_be/" target="_blank" class="externalLink  rel="
                            nofollow">https://www.reddit.com/r/playrust/comments/3emq0w/research_and_blueprints_how_i_think_it_should_be/</a><br />
                        <br /> TLDR; I&#039;d really like to just remove the &quot;Learn blueprint&quot; button altogether OR have a hook where I can just cancel both the blueprint being added to the
                        player&#039;s known blueprints AND prevent the item from being consumed.<br /> [DOUBLEPOST=1438012359][/DOUBLEPOST] <div class="bbCodeBlock bbCodeQuote" data-author="PaiN">
                            <aside>
                                <div class="attribution type">PaiN said: <a href="#post-112855" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote"><a href="https://oxidemod.org/members/28556/" class="username" data-user="28556, @Deicide666ra">@Deicide666ra</a><br /> I found something in the
                                        Assembly that might help you</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>This is to cancel crafting, I don&#039;t think it has anything to do with blueprints being learned. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Deicide666ra</a>,</span>
                        <a href="{{ '/threads/intercept-blueprint-use.10567/#post-112856' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jul 27, 2015 at 4:51 PM">Jul 27, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/intercept-blueprint-use.10567/#post-112856' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/112856/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-112886" class="message" data-author="WolfsDarker">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="WolfsDarker" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">WolfsDarker</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> What you can do is after he learned the blueprint, you could just remove it from his blueprint.<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>PersistantPlayer playerInfo = SingletonComponent&lt;ServerMgr&gt;.Instance.persistance.GetPlayerInfo(player.userID);
if (playerInfo != null)
{
    Item item = ItemManager.CreateByName(short_name);
    playerInfo.blueprints.complete.Remove(item.info.itemId);
    SingletonComponent&lt;ServerMgr&gt;.Instance.persistance.SetPlayerInfo(player.userID, playerInfo);
    player.SendNetworkUpdate(BasePlayer.NetworkQueue.Update);
}</pre>{% endraw %}
                        </div>This would do the job as i tested before, but the thing is, I&#039;m not sure if there is a Hook for this. So find a way to call this after he learned and you should be
                        fine. But your plan would require to give the blueprint back, so do it and send a message &quot; Learning bp is blablabla&quot; <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">WolfsDarker</a>,</span>
                        <a href="{{ '/threads/intercept-blueprint-use.10567/#post-112886' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jul 27, 2015 at 5:59 PM">Jul 27, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/intercept-blueprint-use.10567/#post-112886' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/112886/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-112901" class="message" data-author="Deicide666ra">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Deicide666ra" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Deicide666ra</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Yeah I don&#039;t think there is a hook for this. I&#039;ll try some stuff, maybe OnItemConsumed or some other
                        generic hook is called..thanks for this btw I&#039;ve been looking at how to remove blueprints for a while now and it seems you had the key all this time, lol. Did you test
                        this with default bp&#039;s btw? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Deicide666ra</a>,</span>
                        <a href="{{ '/threads/intercept-blueprint-use.10567/#post-112901' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jul 27, 2015 at 6:37 PM">Jul 27, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/intercept-blueprint-use.10567/#post-112901' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/112901/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-112950" class="message" data-author="WolfsDarker">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="WolfsDarker" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">WolfsDarker</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Deicide666ra">
                            <aside>
                                <div class="attribution type">Deicide666ra said: <a href="#post-112901" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Yeah I don&#039;t think there is a hook for this. I&#039;ll try some stuff, maybe OnItemConsumed or some other generic hook is called..thanks for
                                        this btw I&#039;ve been looking at how to remove blueprints for a while now and it seems you had the key all this time, lol. Did you test this with default
                                        bp&#039;s btw?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Sadly, the default bps cant be removed. Well you can remove it but as soon as you save the data, rust will restore the default ones, this happens maybe because of the new
                        cosmetic items, so you will always have it. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">WolfsDarker</a>,</span>
                        <a href="{{ '/threads/intercept-blueprint-use.10567/#post-112950' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jul 27, 2015 at 8:59 PM">Jul 27, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/intercept-blueprint-use.10567/#post-112950' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/112950/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-112953" class="message" data-author="Deicide666ra">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Deicide666ra" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Deicide666ra</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I see, but this is still good news, it means I could add a random blueprint removal to my death penalty mod <img
                            src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)" /> Not sure I&#039;ll ever release it unless someone shows interest
                        in it, I plan on going for a positive approach rather than a punitive one, or perhaps a bit of both. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Deicide666ra</a>,</span>
                        <a href="{{ '/threads/intercept-blueprint-use.10567/#post-112953' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jul 27, 2015 at 9:11 PM">Jul 27, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/intercept-blueprint-use.10567/#post-112953' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/112953/permalink">#8</a>
                </div>
            </div>
        </div>
    </li>
</ol>
