---
layout: forums
title: 'Solved - See if player is looking to other player'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <span class="prefix prefixGreen">Solved</span> <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/' | prepend: site.baseurl }}">See if player is looking to other player</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">TheMechanical97</a>, <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/' | prepend: site.baseurl }}"><span class="DateTime"
                title="Jan 13, 2016 at 8:50 PM">Jan 13, 2016</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-163049" class="message" data-author="TheMechanical97">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="TheMechanical97" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">TheMechanical97</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I got some code Of Robbery plugin:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>void OnPlayerInput(BasePlayer attacker, InputState input)
        {
            if (!input.WasJustPressed(BUTTON.FIRE_PRIMARY)) return;
            if (!permission.UserHasPermission(player.UserIDString, &quot;Abuse&quot;)) return;          
            var ray = new Ray(attacker.eyes.position, attacker.eyes.HeadForward());
            var entity = FindObject(ray, 1);
            var victim = entity as BasePlayer;
            if (victim == null) return;
            var victimToAttacker = (attacker.transform.position - victim.transform.position).normalized;
            if (Vector3.Dot(victimToAttacker, victim.eyes.HeadForward().normalized) &gt; 0) return;
            if (attacker.GetActiveItem()?.GetHeldEntity() != null) return;
            SexAbuse(victim, attacker);
        }</pre>{% endraw %}
                        </div>But var entity = FindObject(ray, 1); Seems not working<br />
                        <br /> PS: Its for personal use, not to copy a plugin! <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
                        <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2016 at 8:50 PM">Jan 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/163049/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-163051" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Hopefully credit is given if that is going to be a public plugin... <img src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}"
                            class="mceSmilieSprite mceSmilie2" alt=";)" title="Wink    ;)" /><br />
                        <br /> Explaining my code: the ray sphere uses the distance specified in the 2nd argument, so if no object is found within that sphere, you&#039;ll get nothing. Since it is
                        looking for a player only, the other player would need to be within that area. It also only works so that if the victim is looking at the robber, it will not work, that&#039;s
                        what the other checks are for in there. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163051' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2016 at 8:55 PM">Jan 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163051' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/163051/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-163052" class="message" data-author="TheMechanical97">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="TheMechanical97" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">TheMechanical97</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> error CS0103: The name `FindObject&#039; does not exist in the current context<br />
                        [DOUBLEPOST=1452718646][/DOUBLEPOST]My error, Forgot <br /> static BaseEntity FindObject(Ray ray, float distance)<br /> {<br /> RaycastHit hit;<br /> return
                        !Physics.Raycast(ray, out hit, distance) ? null : hit.GetEntity();<br /> } <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
                        <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163052' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2016 at 8:56 PM">Jan 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163052' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/163052/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-163053" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="TheMechanical97">
                            <aside>
                                <div class="attribution type">TheMechanical97 said: <a href="#post-163052" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">error CS0103: The name `FindObject&#039; does not exist in the current context</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>You&#039;re missing the using statement for that then. It&#039;s part of UnityEngine, which it should prompt you for if you use Visual Studio. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163053' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2016 at 8:57 PM">Jan 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163053' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/163053/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-163055" class="message" data-author="TheMechanical97">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="TheMechanical97" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">TheMechanical97</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I have this code:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>void OnPlayerInput(BasePlayer attacker, InputState input)
        {
            if (!input.WasJustPressed(BUTTON.FIRE_PRIMARY)) return;
            if (!permission.UserHasPermission(attacker.UserIDString, &quot;job.use&quot;)) return;
            if (!permission.UserHasPermission(attacker.UserIDString, &quot;job.robber&quot;)) return;           
            var ray = new Ray(attacker.eyes.position, attacker.eyes.HeadForward());
            var entity = FindObject(ray, 1);
            var victim = entity as BasePlayer;
            if (victim == null) return;
            var victimToAttacker = (attacker.transform.position - victim.transform.position).normalized;
            if (Vector3.Dot(victimToAttacker, victim.eyes.HeadForward().normalized) &gt; 0) return;
            if (attacker.GetActiveItem()?.GetHeldEntity() != null) return;
            thiefpay(victim, attacker);
        }        static BaseEntity FindObject(Ray ray, float distance)
        {
            RaycastHit hit;
            return !Physics.Raycast(ray, out hit, distance) ? null : hit.GetEntity();
        }</pre>{% endraw %}
                        </div>And visual studio but ingame, i cant trigger the event :S <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
                        <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163055' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2016 at 9:02 PM">Jan 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163055' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/163055/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-163057" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="TheMechanical97">
                            <aside>
                                <div class="attribution type">TheMechanical97 said: <a href="#post-163055" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">I have this code:<br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>void OnPlayerInput(BasePlayer attacker, InputState input)
        {
            if (!input.WasJustPressed(BUTTON.FIRE_PRIMARY)) return;
            if (!permission.UserHasPermission(attacker.UserIDString, &quot;job.use&quot;)) return;
            if (!permission.UserHasPermission(attacker.UserIDString, &quot;job.robber&quot;)) return;          
            var ray = new Ray(attacker.eyes.position, attacker.eyes.HeadForward());
            var entity = FindObject(ray, 1);
            var victim = entity as BasePlayer;
            if (victim == null) return;
            var victimToAttacker = (attacker.transform.position - victim.transform.position).normalized;
            if (Vector3.Dot(victimToAttacker, victim.eyes.HeadForward().normalized) &gt; 0) return;
            if (attacker.GetActiveItem()?.GetHeldEntity() != null) return;
            thiefpay(victim, attacker);
        }        static BaseEntity FindObject(Ray ray, float distance)
        {
            RaycastHit hit;
            return !Physics.Raycast(ray, out hit, distance) ? null : hit.GetEntity();
        }</pre>{% endraw %}
                                        </div>And visual studio but ingame, i cant trigger the event :S
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>The plugin isn&#039;t loaded if it fails to compile. The code is 1:1 with my code though, so I know it works. I&#039;m not sure why you&#039;re getting the error with
                        FidnObject if that is indeed the exact code you are using. Without seeing the full code, it&#039;s hard to tell what&#039;s going on exactly. <div class="messageTextEndMarker">
                            &nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163057' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2016 at 9:08 PM">Jan 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163057' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/163057/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-163059" class="message" data-author="TheMechanical97">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="TheMechanical97" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">TheMechanical97</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Its working <img src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie8" alt=":D"
                            title="Big Grin    :D" /> Thanks and can i Check if a int = 0?<br /> like if (Variable = 0) return; <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
                        <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163059' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2016 at 9:10 PM">Jan 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163059' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/163059/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-163062" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="TheMechanical97">
                            <aside>
                                <div class="attribution type">TheMechanical97 said: <a href="#post-163059" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Its working <img src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie8" alt=":D" title="Big Grin    :D" /> Thanks and can i
                                        Check if a int = 0?<br /> like if (Variable = 0) return;</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>if (variable == 0) return; <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163062' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2016 at 9:12 PM">Jan 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163062' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/163062/permalink">#8</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-163065" class="message" data-author="TheMechanical97">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="TheMechanical97" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">TheMechanical97</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Thanks So MUchh <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
                        <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163065' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2016 at 9:17 PM">Jan 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/see-if-player-is-looking-to-other-player.14569/#post-163065' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/163065/permalink">#9</a>
                </div>
            </div>
        </div>
    </li>
</ol>
