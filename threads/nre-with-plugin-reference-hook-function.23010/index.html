---
layout: forums
title: 'NRE with plugin reference / hook function'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/' | prepend: site.baseurl }}">NRE with plugin reference / hook function</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username" dir="auto">Sir
            BenSon</a>, <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/' | prepend: site.baseurl }}"><span class="DateTime" title="Jan 13, 2017 at 3:33 PM">Jan 13,
                2017</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-284593" class="message" data-author="Sir BenSon">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Sir BenSon" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Sir BenSon</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Hello there,<br />
                        <br /> i&#039;ve two plugins and i want from plugin 1 the dictionary in plugin 2.<br /> What i do:<br />
                        <br /> Plugin 1 Public function to return the Dict prison<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>        public Dictionary&lt;BasePlayer, float&gt; return_prison()
        {
            return prison;
        }</pre>{% endraw %}
                        </div>Plugin 2: Get Dict prison<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>        [PluginReference]
        Plugin RHPrison;
            var prison = (Dictionary&lt;BasePlayer, float&gt;)RHPrison?.Call(&quot;return_prison&quot;);
            if (prison.ContainsKey(player))
            {
.......
            }</pre>{% endraw %}
                        </div>But i get everytime a (NullReferenceException: Object reference not set to an instance of an object). What do i wrong? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Sir BenSon</a>,</span>
                        <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2017 at 3:33 PM">Jan 13, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/284593/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-284594" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I would avoid casting or calling it if it is null, cast later and check for null before using it. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/#post-284594' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2017 at 3:35 PM">Jan 13, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/#post-284594' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/284594/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-284606" class="message" data-author="Sir BenSon">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Sir BenSon" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Sir BenSon</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Ah okay..<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>            var prison = (Dictionary&lt;BasePlayer, float&gt;)RHPrison?.Call(&quot;return_prison&quot;);
            if(prison != null)
            {
                 if (prison.ContainsKey(player))
                 {                 }
            }</pre>{% endraw %}
                        </div>? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Sir BenSon</a>,</span>
                        <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/#post-284606' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2017 at 3:52 PM">Jan 13, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/#post-284606' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/284606/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-284622" class="message" data-author="Mughisi">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Mughisi" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Mughisi</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Any possibilities for the entire code? It&#039;s not that easy to say what&#039;s wrong with only parts of it.
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Mughisi</a>,</span>
                        <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/#post-284622' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2017 at 4:35 PM">Jan 13, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/#post-284622' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/284622/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-284636" class="message" data-author="Sir BenSon">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Sir BenSon" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Sir BenSon</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> This is the full part. plugin 1 returns the dict with baseplayer and float. But it doesnt call the fuction in the
                        plugin. i dont understand this<br />
                        <br /> How to call a function from plugin 2 in plugin 1?<br />
                        <br /> EG:<br /> Plugin 1 function:<br /> public string(ulong id)<br /> {<br /> return string<br /> }<br />
                        <br /> plugin2 ?<br /> What to do? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Sir BenSon</a>,</span>
                        <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/#post-284636' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2017 at 5:20 PM">Jan 13, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/#post-284636' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/284636/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-284638" class="message" data-author="Mughisi">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Mughisi" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Mughisi</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Actually just noticed you declared your method public, Call in conjunction with PluginReference is only able to
                        call methods that are declared private. So above code should work fine if you would change your return_prison() method from public to private. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Mughisi</a>,</span>
                        <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/#post-284638' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2017 at 5:34 PM">Jan 13, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/#post-284638' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/284638/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-284641" class="message" data-author="Sir BenSon">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Sir BenSon" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Sir BenSon</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Yeah change from public to private works fine Thanks <img src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}"
                            class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)" />. But why? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Sir BenSon</a>,</span>
                        <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/#post-284641' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 13, 2017 at 5:42 PM">Jan 13, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nre-with-plugin-reference-hook-function.23010/#post-284641' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/284641/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
</ol>
