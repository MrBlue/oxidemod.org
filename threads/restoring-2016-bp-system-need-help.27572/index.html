---
layout: forums
title: 'Restoring 2016 BP system, need help'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/restoring-2016-bp-system-need-help.27572/' | prepend: site.baseurl }}">Restoring 2016 BP system, need help</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">Colata</a>, <a href="{{ '/threads/restoring-2016-bp-system-need-help.27572/' | prepend: site.baseurl }}"><span class="DateTime" title="Oct 17, 2017 at 5:20 AM">Oct 17,
                2017</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-357263" class="message" data-author="Colata">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Colata" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Colata</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I&#039;ve been searching around for ways of not only spawning BP&#039;s, (through id&#039;s, etc.) but i
                        can&#039;t find any information relative to the current build. <br />
                        <br /> I&#039;m under the impression that they have been removed from the build and the only way they are currently visible (when crafted through the research table) is through
                        some Unity coding that i don&#039;t have access to.<br />
                        <br /> But i feel that that IF that isn&#039;t the case, then i should be able to request item BP id&#039;s due to them simply being accessible through the research bench and
                        if i can access those a way of identifying BP id&#039;s from ITEM id&#039;s then i can implement them in a loot table to restore BP farming.<br />
                        <br /> And anyway, Mailbox, Table and Spike BP&#039;s currently DO drop in barrels, so i believe there has to be a way to access them!<br />
                        <br /> If anyone has any information on accessing BP id&#039;s i would love some help! <br />
                        <br /> Thanks! <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Colata</a>,</span>
                        <a href="{{ '/threads/restoring-2016-bp-system-need-help.27572/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Oct 17, 2017 at 5:20 AM">Oct 17, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/restoring-2016-bp-system-need-help.27572/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/357263/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-357315" class="message" data-author="Kappasaurus">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Kappasaurus" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Kappasaurus</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Blueprints don&#039;t have their own items, they&#039;re derrived from a base. Look at Simple Loot&#039;s
                        methods. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Kappasaurus</a>,</span>
                        <a href="{{ '/threads/restoring-2016-bp-system-need-help.27572/#post-357315' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Oct 17, 2017 at 12:22 PM">Oct 17, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/restoring-2016-bp-system-need-help.27572/#post-357315' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/357315/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-357325" class="message" data-author="Colata">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Colata" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Colata</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Kappasaurus">
                            <aside>
                                <div class="attribution type">Kappasaurus said: <a href="#post-357315" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Blueprints don&#039;t have their own items, they&#039;re derrived from a base. Look at Simple Loot&#039;s methods.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Funny you say that ahah, I&#039;ve spend the last couple hours revising Simple Loot&#039;s code, completely understand the bases and how they have their specific
                        blueprint properties applied to the original &quot;blueprint&quot; item.<br />
                        <br /> What i don&#039;t quite understand (due to pretty shitty GTA modding coding skills, lol) is why when i add (other) items to either the multiplier or the rarity lists,
                        (other than components) they don&#039;t drop with barrels, crates, etc. <br />
                        <br /> But after experimenting around and stuff I believe the multiplier only applies to pre-set item categories (that are presumable defined by facepunch; like components,
                        guns, clothes, etc.)? something to do with the FindItemDefinition call?<br />
                        <br /> For example: if i were to add &quot;metal.facemask&quot; 1; to the &quot;ItemRarities&quot; or config/SimpleLoot.json under the &quot;Multipliers&quot; list, they would
                        not spawn because those only determine values for items in categories that were called; like components.<br />
                        <br /> If only components and their id&#039;s are collected when figuring out what to be multiplied, then any other item wont be collected until their respective crate, etc.
                        calls for them to be spawned, like elite crates spawning items guns vs. normal crates spawning components, etc.<br />
                        <br /> Unfortunately my Visual Studio is way outdated when i went to look at the Rust github files to try and figure it out for myself if spawns were devised into categories or
                        not preventing me from using looking at definitions, so i can only presume due to what i saw in game. My Visual Studio should be updated tomorrow ahah <img
                            src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie3" alt=":(" title="Frown    :(" /> <br />
                        <br /> I was thinking on doing something like this: <br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>lootContainer.PopulateLoot();
            foreach (var item in lootContainer.inventory.itemList.ToList())
            {
                if(itemid in ReadData(ref ItemRarities, &quot;ItemRarities&quot;))
            (
               
                var itemBlueprint = ItemManager.FindItemDefinition(item.info.shortname).Blueprint;
                if (configuration.ReplaceItems &amp;&amp; itemBlueprint != null &amp;&amp; itemBlueprint.isResearchable)
                {
                    var slot = item.position;
                    item.RemoveFromWorld();
                    item.RemoveFromContainer();
                    var blueprint = ItemManager.CreateByName(&quot;blueprintbase&quot;);
                    blueprint.blueprintTarget = item.info.itemid;
                    blueprint.MoveToContainer(lootContainer.inventory, slot)
                }</pre>{% endraw %}
                        </div>And using &quot;ItemRarities&quot; as a whitelist for blueprint loot spawns? So that all items that i add to the rarities list would be the ones that spawn and the ONLY
                        ones that spawn?<br />
                        <br /> then this piece of code: <br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>public Dictionary&lt;string, object&gt; ItemRarities = new Dictionary&lt;string, object&gt;();            public Data()
            {
                ReadData(ref ItemRarities, &quot;ItemRarities&quot;);                foreach (var itemDefinition in ItemManager.itemList)
                {
                    object rarity;
                    if (ItemRarities.TryGetValue(itemDefinition.shortname, out rarity))
                    {
                        itemDefinition.rarity =  (Rarity) Convert.ToInt32(rarity);
                        continue;
                    }                    ItemRarities.Add(itemDefinition.shortname, itemDefinition.rarity);
                }                SaveData(ItemRarities, &quot;ItemRarities&quot;);
            }</pre>{% endraw %}
                        </div>Could serve to keep rare blueprints out of standard barrels, etc. (if a gun were to spawn on launch crates, then it will be the gun but as a BP instead?) <br />
                        <br /> Then presumably all other items that aren&#039;t in the &quot;ItemRarities&quot; file would follow the default vanilla loot table... and then afterwards use the
                        &quot;ItemRarities&quot; to blacklist multiplied loot like components, etc.<br />
                        <br /> Sorry if this is completely wrong, as i said i&#039;ve currently got no way of investigating how those items are gathered for those lists and can only presume with very
                        average coding skills xD<br />
                        <br /> Any help is appreciated! Thanks! <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Colata</a>,</span>
                        <a href="{{ '/threads/restoring-2016-bp-system-need-help.27572/#post-357325' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Oct 17, 2017 at 2:02 PM">Oct 17, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/restoring-2016-bp-system-need-help.27572/#post-357325' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/357325/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-357339" class="message" data-author="Kappasaurus">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Kappasaurus" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Kappasaurus</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Colata">
                            <aside>
                                <div class="attribution type">Colata said: <a href="#post-357325" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Funny you say that ahah, I&#039;ve spend the last couple hours revising Simple Loot&#039;s code, completely understand the bases and how they
                                        have their specific blueprint properties applied to the original &quot;blueprint&quot; item.<br />
                                        <br /> What i don&#039;t quite understand (due to pretty shitty GTA modding coding skills, lol) is why when i add (other) items to either the multiplier or the
                                        rarity lists, (other than components) they don&#039;t drop with barrels, crates, etc.<br />
                                        <br /> But after experimenting around and stuff I believe the multiplier only applies to pre-set item categories (that are presumable defined by facepunch; like
                                        components, guns, clothes, etc.)? something to do with the FindItemDefinition call?<br />
                                        <br /> For example: if i were to add &quot;metal.facemask&quot; 1; to the &quot;ItemRarities&quot; or config/SimpleLoot.json under the &quot;Multipliers&quot;
                                        list, they would not spawn because those only determine values for items in categories that were called; like components.<br />
                                        <br /> If only components and their id&#039;s are collected when figuring out what to be multiplied, then any other item wont be collected until their
                                        respective crate, etc. calls for them to be spawned, like elite crates spawning items guns vs. normal crates spawning components, etc.<br />
                                        <br /> Unfortunately my Visual Studio is way outdated when i went to look at the Rust github files to try and figure it out for myself if spawns were devised
                                        into categories or not preventing me from using looking at definitions, so i can only presume due to what i saw in game. My Visual Studio should be updated
                                        tomorrow ahah <img src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie3" alt=":(" title="Frown    :(" /><br />
                                        <br /> I was thinking on doing something like this:<br />
                                        <br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>lootContainer.PopulateLoot();
            foreach (var item in lootContainer.inventory.itemList.ToList())
            {
                if(itemid in ReadData(ref ItemRarities, &quot;ItemRarities&quot;))
            (
             
                var itemBlueprint = ItemManager.FindItemDefinition(item.info.shortname).Blueprint;
                if (configuration.ReplaceItems &amp;&amp; itemBlueprint != null &amp;&amp; itemBlueprint.isResearchable)
                {
                    var slot = item.position;
                    item.RemoveFromWorld();
                    item.RemoveFromContainer();
                    var blueprint = ItemManager.CreateByName(&quot;blueprintbase&quot;);
                    blueprint.blueprintTarget = item.info.itemid;
                    blueprint.MoveToContainer(lootContainer.inventory, slot)
                }</pre>{% endraw %}
                                        </div>And using &quot;ItemRarities&quot; as a whitelist for blueprint loot spawns? So that all items that i add to the rarities list would be the ones that
                                        spawn and the ONLY ones that spawn?<br />
                                        <br /> then this piece of code:<br />
                                        <br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>public Dictionary&lt;string, object&gt; ItemRarities = new Dictionary&lt;string, object&gt;();            public Data()
            {
                ReadData(ref ItemRarities, &quot;ItemRarities&quot;);                foreach (var itemDefinition in ItemManager.itemList)
                {
                    object rarity;
                    if (ItemRarities.TryGetValue(itemDefinition.shortname, out rarity))
                    {
                        itemDefinition.rarity =  (Rarity) Convert.ToInt32(rarity);
                        continue;
                    }                    ItemRarities.Add(itemDefinition.shortname, itemDefinition.rarity);
                }                SaveData(ItemRarities, &quot;ItemRarities&quot;);
            }</pre>{% endraw %}
                                        </div>Could serve to keep rare blueprints out of standard barrels, etc. (if a gun were to spawn on launch crates, then it will be the gun but as a BP
                                        instead?)<br />
                                        <br /> Then presumably all other items that aren&#039;t in the &quot;ItemRarities&quot; file would follow the default vanilla loot table... and then afterwards
                                        use the &quot;ItemRarities&quot; to blacklist multiplied loot like components, etc.<br />
                                        <br /> Sorry if this is completely wrong, as i said i&#039;ve currently got no way of investigating how those items are gathered for those lists and can only
                                        presume with very average coding skills xD<br />
                                        <br /> Any help is appreciated! Thanks!
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>At the moment Simple Loot doesn&#039;t edit loot tables. It only modifies existing loot. I would like to expand it though it&#039;s not my top priority at the
                        moment.<br />
                        <br /> EDIT: Those changes could be made in a separate file. Also, I would advise against reading the data file every time loot is spawned. <div class="messageTextEndMarker">
                            &nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Kappasaurus</a>,</span>
                        <a href="{{ '/threads/restoring-2016-bp-system-need-help.27572/#post-357339' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Oct 17, 2017 at 3:55 PM">Oct 17, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/restoring-2016-bp-system-need-help.27572/#post-357339' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/357339/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-357460" class="message" data-author="Colata">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Colata" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Colata</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Kappasaurus">
                            <aside>
                                <div class="attribution type">Kappasaurus said: <a href="#post-357339" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">At the moment Simple Loot doesn&#039;t edit loot tables. It only modifies existing loot. I would like to expand it though it&#039;s not my top
                                        priority at the moment.<br />
                                        <br /> EDIT: Those changes could be made in a separate file. Also, I would advise against reading the data file every time loot is spawned.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Thanks so much for the reply! <br />
                        <br /> Yeah i was a bit skeptical about the &quot;read&quot; call, never seen or used it before!<br /> [DOUBLEPOST=1508308895][/DOUBLEPOST]Alright so i finally got my VS
                        installed and straight away i stumbled across this:<br />
                        <br /> I believe this confirms what i was thinking and now all i have to do is modify it to work <br />
                        <br /> (Currently in your release &quot;item.category&quot; is set to &quot;.Components&quot;)<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
                foreach (var itemDefinition in ItemManager.itemList.Where(x =&gt; x?.category == ItemCategory.  All   ))
                {
                    if (itemDefinition.shortname == &quot;bleach&quot; || itemDefinition.shortname == &quot;ducttape&quot; ||
                        itemDefinition.shortname == &quot;glue&quot; || itemDefinition.shortname == &quot;sticks&quot;)
                        continue;                    if (Multipliers.ContainsKey(itemDefinition.shortname))
                        continue;                    Multipliers.Add(itemDefinition.shortname, 1);
                }</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Colata</a>,</span>
                        <a href="{{ '/threads/restoring-2016-bp-system-need-help.27572/#post-357460' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Oct 18, 2017 at 7:27 AM">Oct 18, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/restoring-2016-bp-system-need-help.27572/#post-357460' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/357460/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-357483" class="message" data-author="Kappasaurus">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Kappasaurus" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Kappasaurus</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> No need for the LINQ in that case. Also, you can add whatever you&#039;d like, just the default config is
                        components. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Kappasaurus</a>,</span>
                        <a href="{{ '/threads/restoring-2016-bp-system-need-help.27572/#post-357483' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Oct 18, 2017 at 12:17 PM">Oct 18, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/restoring-2016-bp-system-need-help.27572/#post-357483' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/357483/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
</ol>
