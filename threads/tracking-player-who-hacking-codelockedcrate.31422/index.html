---
layout: forums
title: 'Tracking player who hacking CodeLockedCrate?'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/tracking-player-who-hacking-codelockedcrate.31422/' | prepend: site.baseurl }}">Tracking player who hacking CodeLockedCrate?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">dIMjIM</a>, <a href="{{ '/threads/tracking-player-who-hacking-codelockedcrate.31422/' | prepend: site.baseurl }}"><span class="DateTime" title="Aug 8, 2018 at 5:25 AM">Aug 8,
                2018</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-411190" class="message" data-author="dIMjIM">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="dIMjIM" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">dIMjIM</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> hello, i have some question. at first can i change / add variables into Oxide hooks as example this.<br />
                        <br /> original:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>void OnCrateHack(HackableLockedCrate crate)
{
    Puts(&quot;OnCrateHack works!&quot;);
}
</pre>{% endraw %}
                        </div>add player:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>void OnCrateHack(HackableLockedCrate crate, BasePlayer player)
{
    Puts(&quot;OnCrateHack works!&quot;);
}
</pre>{% endraw %}
                        </div>so next one i want tracking player who is start hack the CodeLockedCrate<br /> as example:<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>void OnCrateHack(HackableLockedCrate crate, BasePlayer player)
{
    Puts(player.displayName + &quot;start hacking!&quot;);
}
</pre>{% endraw %}
                        </div>but this one dont work, so my question can somebody show me a example how it would work, or give me the right direction how i add player variable into a hook where no
                        player is as function.<br /> i am very new to this and i am learning. thx. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">dIMjIM</a>,</span>
                        <a href="{{ '/threads/tracking-player-who-hacking-codelockedcrate.31422/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Aug 8, 2018 at 5:25 AM">Aug 8, 2018</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/tracking-player-who-hacking-codelockedcrate.31422/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/411190/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-411195" class="message" data-author="Ryan">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Ryan" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Ryan</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> The &quot;variables being added into the hook&quot; (arguments into the method) cannot be changed by you. They
                        get changed by Oxide.<br />
                        <br /> In this example, it looks like you cannot get the player who is starting to hack the crate.<br />
                        <br /> Sometimes the arguments contain objects that you can get the player from. But you cannot here unfortunately. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Ryan</a>,</span>
                        <a href="{{ '/threads/tracking-player-who-hacking-codelockedcrate.31422/#post-411195' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Aug 8, 2018 at 5:59 AM">Aug 8, 2018</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/tracking-player-who-hacking-codelockedcrate.31422/#post-411195' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/411195/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-411209" class="message" data-author="Garbage Collector">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Garbage Collector" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Garbage Collector</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> &gt; can somebody show me a example how it would work, or give me the right direction how i add player variable
                        into a hook where no player is as function.<br />
                        <br /> I will explain.<br /> You have hook<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
void OnCrateHack(HackableLockedCrate crate)
{
    Puts(&quot;OnCrateHack works!&quot;);
}
</pre>{% endraw %}
                        </div>You have arg &quot;<b>HackableLockedCrate crate</b>&quot;. You cant add/remove args (because hook will not be triggered)<br />
                        <b>BUT<br />
                        </b><br /> You can get vars (like position, player who started from &quot;<b>crate</b>&quot;. How? Let me show you.<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>void OnCrateHack(HackableLockedCrate crate)
            {
                crate.transform.position // position
                crate.hackSeconds // seconds since hack
            }
</pre>{% endraw %}
                        </div>etc, etc. Everyrhing you want - you get get from &quot;<b>HackableLockedCrate</b>&quot; <i>class.</i><br />
                        <b>
                            <img src="https://oxidemod.org/attachments/upload_2018-8-8_11-28-37-png.47952/" alt="upload_2018-8-8_11-28-37.png" class="bbCodeImage LbImage" />
                            <br /> ===========================================================================</b><br /> You cant get player from &quot;HackableLockedCrate&quot;, because there are no
                        way where its storing<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>  [BaseEntity.RPC_Server]
  [BaseEntity.RPC_Server.IsVisible(3f)]
  public void RPC_Hack(BaseEntity.RPCMessage msg)
  {
    if (this.IsBeingHacked() || Interface.CallHook(&quot;CanHackCrate&quot;, (object) msg.player, (object) this) != null)
      return;
    this.StartHacking();
  }  public void StartHacking()
  {
    Interface.CallHook(&quot;OnCrateHack&quot;, (object) this);
    this.SetFlag(BaseEntity.Flags.Reserved1, true, false);
    // ISSUE: method pointer
    this.InvokeRepeating(new Action((object) this, __methodptr(HackProgress)), 1f, 1f);
    this.ClientRPC&lt;int, int&gt;((Network.Connection) null, &quot;UpdateHackProgress&quot;, 0, (int) HackableLockedCrate.requiredHackSeconds);
    this.RefreshDecay();
  }
</pre>{% endraw %}
                        </div>You can try it with &quot;<b>Vis.Entities</b>&quot;(examples in Nteleportation) or &quot;CanHackCrate&quot; hook <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Garbage Collector</a>,</span>
                        <a href="{{ '/threads/tracking-player-who-hacking-codelockedcrate.31422/#post-411209' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Aug 8, 2018 at 7:38 AM">Aug 8, 2018</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/tracking-player-who-hacking-codelockedcrate.31422/#post-411209' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/411209/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-411233" class="message" data-author="dIMjIM">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="dIMjIM" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">dIMjIM</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> oh wow, thx to all i didnt see this hook<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>object CanHackCrate(BasePlayer player, HackableLockedCrate crate)
{
    Puts(&quot;CanHackCrate works!&quot;);
    return null;
}
</pre>{% endraw %}
                        </div>this was i search for <img src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)" />
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">dIMjIM</a>,</span>
                        <a href="{{ '/threads/tracking-player-who-hacking-codelockedcrate.31422/#post-411233' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Aug 8, 2018 at 1:11 PM">Aug 8, 2018</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/tracking-player-who-hacking-codelockedcrate.31422/#post-411233' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/411233/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
</ol>
