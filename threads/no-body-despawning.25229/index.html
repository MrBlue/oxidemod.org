---
layout: forums
title: 'Rust - No body despawning'
breadcrumbs:
 - "Plugin Requests": "/forums/plugin-requests.10/"
---
<div class="titleBar">
    <h1>
        <span class="prefix prefixRed">Rust</span> <a href="{{ '/threads/no-body-despawning.25229/' | prepend: site.baseurl }}">No body despawning</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/plugin-requests.10/' | prepend: site.baseurl }}">Plugin Requests</a>' started by <a class="username"
            dir="auto">Togoshige</a>, <a href="{{ '/threads/no-body-despawning.25229/' | prepend: site.baseurl }}"><span class="DateTime" title="May 1, 2017 at 2:06 AM">May 1, 2017</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-319858" class="message" data-author="Togoshige">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Togoshige" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Togoshige</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Basically, I want every player to have their body in the game at all times.<br />
                        <br /> Some players suicide/die and then disconnect/log off so that their body doesn&#039;t stay in the game.<br />
                        <br /> Is it possible to force the spawning of a players body if they disconnect after death/suicide? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Togoshige</a>,</span>
                        <a href="{{ '/threads/no-body-despawning.25229/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime" title="May 1, 2017 at 2:06 AM">May
                                1, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/no-body-despawning.25229/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/319858/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-319873" class="message" data-author="Togoshige">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Togoshige" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Togoshige</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Potential Uses:<br /> Pick Pocketing, Bounty Hunting, Capturing, etc <div class="messageTextEndMarker">&nbsp;
                        </div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Togoshige</a>,</span>
                        <a href="{{ '/threads/no-body-despawning.25229/#post-319873' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 1, 2017 at 3:32 AM">May 1, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/no-body-despawning.25229/#post-319873' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/319873/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-319875" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> If they&#039;ve been connected before, they&#039;d have a sleeper and would still be there. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/no-body-despawning.25229/#post-319875' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 1, 2017 at 3:40 AM">May 1, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/no-body-despawning.25229/#post-319875' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/319875/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-320270" class="message" data-author="Steenamaroo">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Steenamaroo" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Steenamaroo</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> There&#039;s a corpse duration plugin which extends the duration that a corpse exists but doesn&#039;t have a
                        true/false for corpse despawn.<br /> I imagine you could set the time limit so high that it addresses your problem although I don&#039;t know how it was written - It may, or
                        may not, carry across restarts. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Steenamaroo</a>,</span>
                        <a href="{{ '/threads/no-body-despawning.25229/#post-320270' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 2, 2017 at 2:31 PM">May 2, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/no-body-despawning.25229/#post-320270' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/320270/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-320387" class="message" data-author="Togoshige">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Togoshige" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Togoshige</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <a href="https://oxidemod.org/members/120153/" class="username" data-user="120153, @Steenamaroo">@Steenamaroo</a> I use the CorpseDuration modifier plugin, works well!<br />
                        <br /> But my current understanding, not sure if its wrong, is that its possible, after a player is killed/suicided, for them to _not_ spawn back in to a sleeping bag or
                        randomly on the map, and then disconnect, and the player will _not_ have a sleeper (sleeping body) in the game, like they&#039;re in a sort of limbo/purgatory with no physical
                        body in the game.<br />
                        <br /> Theres a plugin, Respawner ----&gt; <a href="http://oxidemod.org/plugins/respawner.669/" class="internalLink">Respawner for Rust | Oxide</a><br /> But I havent tested it
                        out yet. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Togoshige</a>,</span>
                        <a href="{{ '/threads/no-body-despawning.25229/#post-320387' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 2, 2017 at 8:43 PM">May 2, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/no-body-despawning.25229/#post-320387' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/320387/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-320390" class="message" data-author="Steenamaroo">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Steenamaroo" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Steenamaroo</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Oh yes, sorry. I see what you mean.<br />
                        <br /> At a glance that respawner plug should do the job but it would also interfere with other players (who intend to stay) having the choice over their respawn
                        locations.<br />
                        <br /> I bet you could get what you want from between the respawner and OnPlayerDisconnect() <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Steenamaroo</a>,</span>
                        <a href="{{ '/threads/no-body-despawning.25229/#post-320390' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 2, 2017 at 8:58 PM">May 2, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/no-body-despawning.25229/#post-320390' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/320390/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-330697" class="message" data-author="Togoshige">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Togoshige" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Togoshige</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I got it to work for when a Player disconnects without a body, I can respawn them <img
                            src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)" /><br />
                        <br /> Im having trouble now, for when a player is killed while sleeping, I cant respawn them, heres the Error:<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>[ForceBody] ForceBody - OnEntityDeath - Player was killed while sleeping - Sm0k3T1m3
Stomping old lifeStory
Assertion failed. Value was False
Expected: True
  at BasePlayer.SendFullSnapshot () [0x00000] in &lt;filename unknown&gt;:0
  at BasePlayer.RespawnAt (Vector3 position, Quaternion rotation) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.ForceBody.OnEntityDeath (.BaseCombatEntity entity, .HitInfo info) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.ForceBody.DirectCallHook (System.String name, System.Object&amp; ret, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.CSharpPlugin.InvokeMethod (HookMethod method, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Core.Plugins.CSPlugin.OnCallHook (System.String name, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Core.Plugins.Plugin.CallHook (System.String hook, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0 </pre>{% endraw %}
                        </div>Relevant Code:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>void OnEntityDeath(BaseEntity entity, HitInfo info)
        {
            if (entity == null) return;
            if (entity is BasePlayer == false) return;            BasePlayer player = (BasePlayer)entity;
            if (!player.IsSleeping()) { Puts(&quot;ForceBody - OnEntityDeath - Player was killed while Alive - &quot; + player.displayName); return; }
            player.RespawnAt(randomPos, new Quaternion());
        }</pre>{% endraw %}
                        </div>I tried using BasePlayer.Find() but that couldnt find the player once theyre killed either hmmm<br />
                        <br /> References:<br />
                        <a href="http://oxidemod.org/threads/cant-force-a-respawn.11344/" class="internalLink">Can&#039;t force a respawn | Oxide</a><br />
                        <a href="http://oxidemod.org/threads/getting-name-from-user-id.21309/" class="internalLink">Solved - Getting name from user ID? | Oxide</a><br />
                        <a href="http://oxidemod.org/threads/findplayer-function-including-offline-players.24947/" class="internalLink">FindPlayer function including offline players | Oxide</a>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Togoshige</a>,</span>
                        <a href="{{ '/threads/no-body-despawning.25229/#post-330697' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jun 11, 2017 at 8:49 PM">Jun 11, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/no-body-despawning.25229/#post-330697' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/330697/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-330711" class="message" data-author="Ryan">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Ryan" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Ryan</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Togoshige">
                            <aside>
                                <div class="attribution type">Togoshige said: <a href="#post-330697" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">I got it to work for when a Player disconnects without a body, I can respawn them <img src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}"
                                            class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)" /><br />
                                        <br /> Im having trouble now, for when a player is killed while sleeping, I cant respawn them, heres the Error:<br />
                                        <br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>[ForceBody] ForceBody - OnEntityDeath - Player was killed while sleeping - Sm0k3T1m3
Stomping old lifeStory
Assertion failed. Value was False
Expected: True
  at BasePlayer.SendFullSnapshot () [0x00000] in &lt;filename unknown&gt;:0
  at BasePlayer.RespawnAt (Vector3 position, Quaternion rotation) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.ForceBody.OnEntityDeath (.BaseCombatEntity entity, .HitInfo info) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.ForceBody.DirectCallHook (System.String name, System.Object&amp; ret, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.CSharpPlugin.InvokeMethod (HookMethod method, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Core.Plugins.CSPlugin.OnCallHook (System.String name, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Core.Plugins.Plugin.CallHook (System.String hook, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0 </pre>{% endraw %}
                                        </div>Relevant Code:<br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>void OnEntityDeath(BaseEntity entity, HitInfo info)
        {
            if (entity == null) return;
            if (entity is BasePlayer == false) return;            BasePlayer player = (BasePlayer)entity;
            if (!player.IsSleeping()) { Puts(&quot;ForceBody - OnEntityDeath - Player was killed while Alive - &quot; + player.displayName); return; }
            player.RespawnAt(randomPos, new Quaternion());
        }</pre>{% endraw %}
                                        </div>I tried using BasePlayer.Find() but that couldnt find the player once theyre killed either hmmm<br />
                                        <br /> References:<br />
                                        <a href="http://oxidemod.org/threads/cant-force-a-respawn.11344/" class="internalLink">Can&#039;t force a respawn | Oxide</a><br />
                                        <a href="http://oxidemod.org/threads/getting-name-from-user-id.21309/" class="internalLink">Solved - Getting name from user ID? | Oxide</a><br />
                                        <a href="http://oxidemod.org/threads/findplayer-function-including-offline-players.24947/" class="internalLink">FindPlayer function including offline players |
                                            Oxide</a>
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>I imagine it&#039;s because the player isn&#039;t on the server at the time, there&#039;s nothing to send the full snapshot to.<br />
                        <br /> Maybe try OnHitInfo, get the victim and then do something with that. Not quite sure how you&#039;d handle that though off the top of my head. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Ryan</a>,</span>
                        <a href="{{ '/threads/no-body-despawning.25229/#post-330711' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jun 11, 2017 at 9:46 PM">Jun 11, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/no-body-despawning.25229/#post-330711' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/330711/permalink">#8</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-330720" class="message" data-author="Steenamaroo">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Steenamaroo" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Steenamaroo</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I guess, and that&#039;s all it is, that OnPlayerDisconnected() is letting you push a respawn through before
                        their disconnect completes?<br /> I suppose you could print player display names for each online player OnPlayerDisconnected to see if the disconnecting player shows up. <br />
                        If he does, that would prove it.<br />
                        <br /> If that&#039;s the case, I don&#039;t know how you&#039;d respawn an offline player.<br /> A less than ideal solution might be to null sleeper damage? <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Steenamaroo</a>,</span>
                        <a href="{{ '/threads/no-body-despawning.25229/#post-330720' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jun 11, 2017 at 10:44 PM">Jun 11, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/no-body-despawning.25229/#post-330720' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/330720/permalink">#9</a>
                </div>
            </div>
        </div>
    </li>
</ol>
