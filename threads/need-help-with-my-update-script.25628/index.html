---
layout: forums
title: 'Need help with my update script'
breadcrumbs:
 - "Game Discussion": "/categories/game-discussion.106/"
 - "Rust Discussion": "/forums/rust-discussion.23/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/need-help-with-my-update-script.25628/' | prepend: site.baseurl }}">Need help with my update script</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-discussion.23/' | prepend: site.baseurl }}">Rust Discussion</a>' started by <a class="username" dir="auto">Rage
            Quit</a>, <a href="{{ '/threads/need-help-with-my-update-script.25628/' | prepend: site.baseurl }}"><span class="DateTime" title="May 25, 2017 at 9:08 PM">May 25, 2017</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-326815" class="message" data-author="Rage Quit">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Rage Quit" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Rage Quit</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> We are kindred spirits. I would love any feedback from anybody. <br />
                        <br /> 2 Issues.<br /> 1. The Plugin Updater Requires a Click OK scenario at the end of the update. Can&#039;t automate when you have to click &quot;update complete&quot;
                        button.<br /> 2. Trying to figure out how to kick this off automatically when there is a server update. <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>REM **** Rust Server Update ****
REM
REM
REM Variables
set source=[URL]https://dl.bintray.com/oxidemod/builds/Oxide-Rust.zip[/URL]
set dump=r:\Updates\dump\
set plugins=R:\rustds\oxide\plugins\
set update=r:\updates\
set oxide=Oxide-Rust.zip
set rust=r:\rustds\
set steamupdate=r:\steam\
REM **** Kill Server ****
Taskkill /IM  RustDedicated.exe /F
Taskkill /IM RustAdmin.exe /F
REM **** Update Server ****
cd %steamupdate%
steamcmd.exe +runscript ../update_script.txt
cd ..
REM **** Update Oxide ****
mkdir %dump%
powershell.exe -ExecutionPolicy Bypass Start-BitsTransfer -Source %source% -Destination %updates%%oxide%
7z.exe e -aoa %updates%%oxide% -o%dump%
xcopy %dump%*.* %rust% /Y
REM
REM ****
REM **** Clean Up ****
del %updates%%oxide%
rmdir %dump% /s /q
REM **** Update Plugins ****
%plugins%PluginUpdater.exe
REM  Launch RustAdmin
R:\RustAdminRelease\RustAdmin.exe
REm **** Call Server ****
cd %rust%
modded.bat
REM **** Modded.bat = rustdedicated.exe batch file ****
REM
REM **** END ****</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Rage Quit</a>,</span>
                        <a href="{{ '/threads/need-help-with-my-update-script.25628/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 25, 2017 at 9:08 PM">May 25, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/need-help-with-my-update-script.25628/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/326815/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-326816" class="message" data-author="Togoshige">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Togoshige" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Togoshige</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Rustide Tool -----&gt; <a href="http://oxidemod.org/resources/rustide.1289/" class="internalLink">Rustide for
                            Rust | Oxide</a><br /> I believe this can check periodically for Rust and Oxide updates<br /> [DOUBLEPOST=1495743728][/DOUBLEPOST]Crap Im wrong, I used that with Smooth
                        Restarter -----&gt; <a href="http://oxidemod.org/plugins/smooth-restarter.1826/" class="internalLink">Smooth Restarter for Rust | Oxide</a><br /> &quot;The plugin has an
                        inbuilt function to check against the release of a new Devblog and afterwards against a new realeased Oxide Build&quot; <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Togoshige</a>,</span>
                        <a href="{{ '/threads/need-help-with-my-update-script.25628/#post-326816' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 25, 2017 at 9:18 PM">May 25, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/need-help-with-my-update-script.25628/#post-326816' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/326816/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
</ol>
