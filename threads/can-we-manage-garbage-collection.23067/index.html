---
layout: forums
title: 'Solved - Can we manage garbage collection?'
breadcrumbs:
 - "Game Discussion": "/categories/game-discussion.106/"
 - "Rust Discussion": "/forums/rust-discussion.23/"
---
<div class="titleBar">
    <h1>
        <span class="prefix prefixGreen">Solved</span> <a href="{{ '/threads/can-we-manage-garbage-collection.23067/' | prepend: site.baseurl }}">Can we manage garbage collection?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-discussion.23/' | prepend: site.baseurl }}">Rust Discussion</a>' started by <a class="username"
            dir="auto">Pleskac</a>, <a href="{{ '/threads/can-we-manage-garbage-collection.23067/' | prepend: site.baseurl }}"><span class="DateTime" title="Jan 16, 2017 at 4:20 PM">Jan 16,
                2017</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-285507" class="message" data-author="Pleskac">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Pleskac" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Pleskac</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Hello is there any way how to set time after which garbage is collected or is this managed by system?<br /> My
                        server run quite well exept for big lag spikes on garbage collection (1-3sec)<br /> example message<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>Calling 'OnDispenserGather' on 'ZLevelsRemastered v1.6.6' took 2238ms [GARBAGE COLLECT]</pre>{% endraw %}
                        </div>For example I would like to call plugin garbage collect only on server save <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Pleskac</a>,</span>
                        <a href="{{ '/threads/can-we-manage-garbage-collection.23067/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 16, 2017 at 4:20 PM">Jan 16, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/can-we-manage-garbage-collection.23067/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/285507/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-285509" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Garbage collection is handled by Unity and the game. That hook warning means that it took longer than expected
                        because of garbage collection running that time as well. Rust does give you some options to trigger garbage collection, but I wouldn&#039;t recommend messing with it.<br />
                        <br />
                        <a href="https://docs.unity3d.com/Manual/UnderstandingAutomaticMemoryManagement.html" target="_blank" class="externalLink">Unity - Manual: Understanding Automatic Memory
                            Management</a>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/can-we-manage-garbage-collection.23067/#post-285509' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 16, 2017 at 4:25 PM">Jan 16, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/can-we-manage-garbage-collection.23067/#post-285509' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/285509/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-285522" class="message" data-author="Pleskac">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Pleskac" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Pleskac</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Ok I understand now so it seems like my server do garbage collect every 5min which take 2-3sec very noticable lag.
                        I have auto save every 30 minutes so even if I run gc.collect on server save it solves nothing for me but I found a server command gc.interval if I set it to 30min(same as save
                        time) will it cause any problems for me exept for more memory usage? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Pleskac</a>,</span>
                        <a href="{{ '/threads/can-we-manage-garbage-collection.23067/#post-285522' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 16, 2017 at 5:21 PM">Jan 16, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/can-we-manage-garbage-collection.23067/#post-285522' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/285522/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-285523" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Pleskac">
                            <aside>
                                <div class="attribution type">Pleskac said: <a href="#post-285522" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Ok I understand now so it seems like my server do garbage collect every 5min which take 2-3sec very noticable lag. I have auto save every 30
                                        minutes so even if I run gc.collect on server save it solves nothing for me but I found a server command gc.interval if I set it to 30min(same as save time)
                                        will it cause any problems for me exept for more memory usage?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Give it a try and see I guess. <img src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)" />
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/can-we-manage-garbage-collection.23067/#post-285523' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 16, 2017 at 5:22 PM">Jan 16, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/can-we-manage-garbage-collection.23067/#post-285523' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/285523/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-301948" class="message" data-author="TheMrNoob">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="TheMrNoob" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">TheMrNoob</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">hi my server had 250 fps and one day garbage collection took 2258ms and every time it says that now and my server
                        has 121 fps now <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">TheMrNoob</a>,</span>
                        <a href="{{ '/threads/can-we-manage-garbage-collection.23067/#post-301948' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 26, 2017 at 4:53 PM">Feb 26, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/can-we-manage-garbage-collection.23067/#post-301948' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/301948/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
</ol>
