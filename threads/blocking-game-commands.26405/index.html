---
layout: forums
title: 'Solved - Blocking game commands?'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <span class="prefix prefixGreen">Solved</span> <a href="{{ '/threads/blocking-game-commands.26405/' | prepend: site.baseurl }}">Blocking game commands?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">WarriorForRust</a>, <a href="{{ '/threads/blocking-game-commands.26405/' | prepend: site.baseurl }}"><span class="DateTime" title="Jul 17, 2017 at 5:32 PM">Jul 17,
                2017</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-338443" class="message" data-author="WarriorForRust">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="WarriorForRust" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">WarriorForRust</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Due to the fact that the developers of the game blocked the possibility of using ddraw for users, there was an
                        idea to bypass the lock, giving all players administrator rights, as well as making filter commands. I tried to filter commands using the OnServerCommand binding, but if the
                        administrator uses a locked command created in the game, for example: hile.calltome, the lock does not work and the NollExceptionReference error appears. How to implement an
                        idea that filters all game teams? These are my code attempts:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>        object OnServerCommand(ConsoleSystem.Arg arg)
        {           
            BasePlayer player = arg.Player();
            if (player != null) //Player commands filter
            {
                var command = arg.cmd.Name.ToUpper();                // Allowed console command list
                if (command.StartsWith(&quot;HELP&quot;) || command.StartsWith(&quot;REMOVER&quot;))
                {
                    return null;
                }       
               
                if (command.StartsWith(&quot;SAY&quot;))
                {
                    var args = arg.GetString(0, null).ToUpper();
                    if (!args.StartsWith(&quot;/&quot;))
                    {
                        return null;
                    }
                    else
                    {
                        // Allowed chat command list
                        if (args.StartsWith(&quot;/HELP&quot;) || args.StartsWith(&quot;/INFO&quot;) || args.StartsWith(&quot;/REMOVER&quot;))
                        {
                            return null;
                        }
                    }
                }               
                return false; //Block all other player teams
            }
            return null; //Allow all server commands
        }</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate">Last edited by a moderator: <span class="DateTime" title="Jul 17, 2017 at 5:57 PM">Jul 17, 2017</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">WarriorForRust</a>,</span>
                        <a href="{{ '/threads/blocking-game-commands.26405/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jul 17, 2017 at 5:32 PM">Jul 17, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/blocking-game-commands.26405/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/338443/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-338444" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">I would not suggest granting them admin, there are client-only commands that the server cannot intercept. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/blocking-game-commands.26405/#post-338444' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jul 17, 2017 at 5:33 PM">Jul 17, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/blocking-game-commands.26405/#post-338444' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/338444/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-338450" class="message" data-author="WarriorForRust">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="WarriorForRust" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">WarriorForRust</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Wulf">
                            <aside>
                                <div class="attribution type">Wulf said: <a href="#post-338444" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">I would not suggest granting them admin, there are client-only commands that the server cannot intercept.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>I changed the code a bit, now everything works correctly. All unnecessary commands are blocked. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">WarriorForRust</a>,</span>
                        <a href="{{ '/threads/blocking-game-commands.26405/#post-338450' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jul 17, 2017 at 6:00 PM">Jul 17, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/blocking-game-commands.26405/#post-338450' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/338450/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-338452" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="WarriorForRust">
                            <aside>
                                <div class="attribution type">WarriorForRust said: <a href="#post-338450" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">I changed the code a bit, now everything works correctly. All unnecessary commands are blocked.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Client-only commands won&#039;t be; ie. noclip. <img src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie2" alt=";)" title="Wink    ;)" />
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/blocking-game-commands.26405/#post-338452' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jul 17, 2017 at 6:04 PM">Jul 17, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/blocking-game-commands.26405/#post-338452' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/338452/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-338453" class="message" data-author="WarriorForRust">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="WarriorForRust" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">WarriorForRust</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Wulf">
                            <aside>
                                <div class="attribution type">Wulf said: <a href="#post-338452" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Client-only commands won&#039;t be; ie. noclip. <img src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie2" alt=";)"
                                            title="Wink    ;)" /></div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>You are right, noclip all spoiled)) <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">WarriorForRust</a>,</span>
                        <a href="{{ '/threads/blocking-game-commands.26405/#post-338453' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jul 17, 2017 at 6:07 PM">Jul 17, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/blocking-game-commands.26405/#post-338453' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/338453/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
</ol>
