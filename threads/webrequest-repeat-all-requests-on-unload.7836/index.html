---
layout: forums
title: 'Fixed - WebRequest repeat all requests on unload'
breadcrumbs:
 - "Game Discussion": "/categories/game-discussion.106/"
 - "Rust Discussion": "/forums/rust-discussion.23/"
---
<div class="titleBar">
    <h1>
        <span class="prefix prefixLightGreen">Fixed</span> <a href="{{ '/threads/webrequest-repeat-all-requests-on-unload.7836/' | prepend: site.baseurl }}">WebRequest repeat all requests on
            unload</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-discussion.23/' | prepend: site.baseurl }}">Rust Discussion</a>' started by <a class="username"
            dir="auto">AlexALX_[rus-ua]</a>, <a href="{{ '/threads/webrequest-repeat-all-requests-on-unload.7836/' | prepend: site.baseurl }}"><span class="DateTime"
                title="Apr 18, 2015 at 1:28 PM">Apr 18, 2015</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-80256" class="message" data-author="AlexALX_[rus-ua]">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="AlexALX_[rus-ua]" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">AlexALX_[rus-ua]</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Heres simple example:<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>// Reference: Oxide.Ext.Rust
using Oxide.Core;
using Oxide.Core.Plugins;
using Oxide.Core.Libraries;namespace Oxide.Plugins
{
[Info(&quot;Test Get&quot;, &quot;AlexALX&quot;, &quot;0.0.1&quot;)]
public class TestGet : RustPlugin
{
    private WebRequests webrequests = Interface.Oxide.GetLibrary&lt;WebRequests&gt;(&quot;WebRequests&quot;);
    
    [ChatCommand(&quot;testget&quot;)]
    void cmdTest(BasePlayer player, string command, string[] args) {
        webrequests.EnqueueGet(&quot;http://rustoxide.com/&quot;,
            (code, response) =&gt; player.ChatMessage(&quot;TEST GET CODE &quot;+code.ToString()+&quot;!&quot;)
        , this);
    }
    
    [ChatCommand(&quot;testpost&quot;)]
    void cmdTestPost(BasePlayer player, string command, string[] args) {
        webrequests.EnqueuePost(&quot;http://rustoxide.com/&quot;, &quot;&quot;,
            (code, response) =&gt; player.ChatMessage(&quot;TEST POST CODE &quot;+code.ToString()+&quot;!&quot;)
        , this);
    }

}

}</pre>{% endraw %}
                        </div>When i&#039;m typing /testget or/and /testpost it works just fine and return &quot;TEST GET CODE 200!&quot; for example.<br />
                        <br /> When i&#039;m unload or reload plugin after i typed /testget it repeat webrequest again and write again &quot;TEST GET CODE 200!&quot;. If i was used /testget and
                        /testpost - it writting both messages on unload. If i used this command multiple times - on unload they all repeats in same way (5 times for example).<br />
                        <br /> So whats wrong? Is this my code wrong or something with webrequests itself? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">AlexALX_[rus-ua]</a>,</span>
                        <a href="{{ '/threads/webrequest-repeat-all-requests-on-unload.7836/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Apr 18, 2015 at 1:28 PM">Apr 18, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/webrequest-repeat-all-requests-on-unload.7836/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/80256/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-80263" class="message" data-author="Reneb">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Reneb" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Reneb</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> same problem here<br /> thx for noticing<br />
                        <br />
                        <img src="https://oxidemod.org/attachments/upload_2015-4-18_15-2-23-png.7942/" alt="upload_2015-4-18_15-2-23.png" class="bbCodeImage LbImage" />
                        <br /> [DOUBLEPOST=1429362068][/DOUBLEPOST]Actually .. it&#039;s just the message that shows again<br /> because on RUSTDB if the player is already banned it tells
                        you.<br /> So only the response is shown again, the webrequest isnt sent again:<br />
                        <br />
                        <img src="https://oxidemod.org/attachments/upload_2015-4-18_15-3-49-png.7943/" alt="upload_2015-4-18_15-3-49.png" class="bbCodeImage LbImage" />
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Reneb</a>,</span>
                        <a href="{{ '/threads/webrequest-repeat-all-requests-on-unload.7836/#post-80263' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Apr 18, 2015 at 1:59 PM">Apr 18, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/webrequest-repeat-all-requests-on-unload.7836/#post-80263' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/80263/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-80264" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> It&#039;s fixed in a PR, just waiting for Travis to stop acting up. <div class="messageTextEndMarker">&nbsp;
                        </div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/webrequest-repeat-all-requests-on-unload.7836/#post-80264' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Apr 18, 2015 at 2:05 PM">Apr 18, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/webrequest-repeat-all-requests-on-unload.7836/#post-80264' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/80264/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-80267" class="message" data-author="AlexALX_[rus-ua]">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="AlexALX_[rus-ua]" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">AlexALX_[rus-ua]</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Ok thank you, sadly that i should apply commits manually, because of <a
                            href="http://oxidemod.org/threads/server-identity-not-being-detected-on-wine-for-linux.7802/"
                            class="internalLink">http://oxidemod.org/threads/server-identity-not-being-detected-on-wine-for-linux.7802/</a>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">AlexALX_[rus-ua]</a>,</span>
                        <a href="{{ '/threads/webrequest-repeat-all-requests-on-unload.7836/#post-80267' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Apr 18, 2015 at 2:18 PM">Apr 18, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/webrequest-repeat-all-requests-on-unload.7836/#post-80267' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/80267/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
</ol>
