---
layout: forums
title: 'Can&#039;t get OnHealingItemUse hook to work'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/' | prepend: site.baseurl }}">Can&#039;t get OnHealingItemUse hook to work</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">Tunnleram</a>, <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/' | prepend: site.baseurl }}"><span class="DateTime" title="Feb 11, 2017 at 4:27 AM">Feb 11,
                2017</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-296414" class="message" data-author="Tunnleram">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Tunnleram" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Tunnleram</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">I&#039;m new, forgive me.<br />
                        <br /> I&#039;m trying to use OnHealingItemUse(HeldEntity item, BasePlayer target), but it&#039;s not working for me. I know I&#039;m doing something wrong.<br />
                        <br /> I&#039;m trying to do something like this:<br />
                        <br /> void OnCollectiblePickup(Item item, BasePlayer player) {<br /> executeQuery(&quot;INSERT INTO player_gather_resource (player, resource, count, date) VALUES (@0, @1, @2,
                        @3)&quot; +<br /> &quot;ON DUPLICATE KEY UPDATE count = count + &quot; + item.amount, player.userID, item.info.displayName.english, item.amount, getDateTime());<br /> } <br />
                        <br /> but for insert when food or meds are used. <br />
                        <br /> How would I achieve this for food? Is OnHealingItemUse the right hook to use? I&#039;m looking to write to the database to show when meds of food is used. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Tunnleram</a>,</span>
                        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 11, 2017 at 4:27 AM">Feb 11, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/296414/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-296416" class="message" data-author="DylanSMR">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="DylanSMR" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">DylanSMR</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Try:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>void OnConsumableUse(Item item)
{
    Puts(&quot;OnConsumableUse works!&quot;);
}</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">DylanSMR</a>,</span>
                        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296416' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 11, 2017 at 5:01 AM">Feb 11, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296416' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/296416/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-296428" class="message" data-author="Tunnleram">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Tunnleram" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Tunnleram</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Thank you.<br />
                        <br /> Now I&#039;m trying to figure out how to limit the database writes to situations where players are interacting with food and meds.<br />
                        <br /> oid OnConsumableUse(Item item) {<br /> executeQuery(&quot;INSERT INTO player_consume (player_id, consumable, date) VALUES (@0, @1, @2)&quot;,
                        item.info.displayName.english, getDateTime());<br /> } <br />
                        <br /> Anything I try to reference player it says &quot;The name `player&#039; does not exist in the current context&quot; which I get. Apparently this hook doesn&#039;t work
                        with the player, but there must be a way to get that info.<br />
                        <br /> How do I grab the current player info and link it to the hook? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Tunnleram</a>,</span>
                        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296428' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 11, 2017 at 6:02 AM">Feb 11, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296428' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/296428/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-296438" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Tunnleram">
                            <aside>
                                <div class="attribution type">Tunnleram said: <a href="#post-296428" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Thank you.<br />
                                        <br /> Now I&#039;m trying to figure out how to limit the database writes to situations where players are interacting with food and meds.<br />
                                        <br /> oid OnConsumableUse(Item item) {<br /> executeQuery(&quot;INSERT INTO player_consume (player_id, consumable, date) VALUES (@0, @1, @2)&quot;,
                                        item.info.displayName.english, getDateTime());<br /> } <br />
                                        <br /> Anything I try to reference player it says &quot;The name `player&#039; does not exist in the current context&quot; which I get. Apparently this hook
                                        doesn&#039;t work with the player, but there must be a way to get that info.<br />
                                        <br /> How do I grab the current player info and link it to the hook?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>
                        <div class="bbCodeBlock bbCodeQuote" data-author="DylanSMR">
                            <aside>
                                <div class="attribution type">DylanSMR said: <a href="#post-296416" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Try:<br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>void OnConsumableUse(Item item)
{
    Puts(&quot;OnConsumableUse works!&quot;);
}</pre>{% endraw %}
                                        </div>
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>object OnHealingItemUse(HeldEntity item, BasePlayer target) is valid and still being triggered. Keep in mind this is only used for the syringe and medical items, not
                        food.<br />
                        <br /> object OnConsumeableUse(Item item) you can get the user from the item generally. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296438' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 11, 2017 at 6:25 AM">Feb 11, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296438' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/296438/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-296548" class="message" data-author="Tunnleram">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Tunnleram" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Tunnleram</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Again, I&#039;m new forgive me.<br />
                        <br /> I see item.info.displayName.english will give me the name of the item being consumed, but what are the other options for item? For instance, the person holding item. How
                        do I find all of these variables like item.info.displayName.english? Are they listed somewhere I&#039;m not seeing? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Tunnleram</a>,</span>
                        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296548' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 11, 2017 at 4:38 PM">Feb 11, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296548' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/296548/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-296554" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Tunnleram">
                            <aside>
                                <div class="attribution type">Tunnleram said: <a href="#post-296548" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Again, I&#039;m new forgive me.<br />
                                        <br /> I see item.info.displayName.english will give me the name of the item being consumed, but what are the other options for item? For instance, the person
                                        holding item. How do I find all of these variables like item.info.displayName.english? Are they listed somewhere I&#039;m not seeing?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Well, the problem now is that items no longer have ownership as that was removed in one of the recent updates, so that may not work anymore. So back to the drawing board
                        I guess! <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296554' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 11, 2017 at 5:15 PM">Feb 11, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296554' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/296554/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-296608" class="message" data-author="Tunnleram">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Tunnleram" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Tunnleram</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Is there any way in this situation to get information about the active player who is consuming the item? <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Tunnleram</a>,</span>
                        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296608' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 11, 2017 at 7:43 PM">Feb 11, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296608' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/296608/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-296675" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Tunnleram">
                            <aside>
                                <div class="attribution type">Tunnleram said: <a href="#post-296608" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Is there any way in this situation to get information about the active player who is consuming the item?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>I don&#039;t think there&#039;s any way with OnConsumableUse, at least where we hook it. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296675' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 11, 2017 at 11:47 PM">Feb 11, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296675' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/296675/permalink">#8</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-296790" class="message" data-author="k1lly0u">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="k1lly0u" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">k1lly0u</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
void OnHealingItemUse(MedicalTool tool, BasePlayer targetPlayer)
{           
    BasePlayer player = tool.GetOwnerPlayer();     // The player who is holding the item          
}       </pre>{% endraw %}
                        </div>^ Works fine for getting the player who is holding the item. I&#039;d assume GetOwnerPlayer would work in OnConsumableUse also <div class="messageTextEndMarker">&nbsp;
                        </div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">k1lly0u</a>,</span>
                        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296790' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 12, 2017 at 8:30 AM">Feb 12, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296790' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/296790/permalink">#9</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-296932" class="message" data-author="Tunnleram">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Tunnleram" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Tunnleram</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Thanks!<br />
                        <br /> So here&#039;s what I tried:<br />
                        <br /> void OnConsumableUse(Item item) {<br /> BasePlayer player = tool.GetOwnerPlayer(); // The player who is holding the item <br /> excuteQuery(&quot;INSERT INTO
                        player_consume (player_id, consumable, date) VALUES (@0, @1, @2)&quot;, ((BasePlayer)entity).userID, item.info.displayName.english, getDateTime());<br /> } <br />
                        <br /> But it has an issue with ((BasePlayer)entity).userID<br />
                        <br /> I get:<br />
                        <br /> Error while compiling MStats.cs(229,108): error CS0103: The name `entity&#039; does not exist in the current context<br />
                        <br /> Am I referencing BasePlayer correctly or is it not there to reference? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Tunnleram</a>,</span>
                        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296932' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 12, 2017 at 4:48 PM">Feb 12, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296932' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/296932/permalink">#10</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-296933" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Tunnleram">
                            <aside>
                                <div class="attribution type">Tunnleram said: <a href="#post-296932" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Thanks!<br />
                                        <br /> So here&#039;s what I tried:<br />
                                        <br /> void OnConsumableUse(Item item) {<br /> BasePlayer player = tool.GetOwnerPlayer(); // The player who is holding the item <br /> excuteQuery(&quot;INSERT
                                        INTO player_consume (player_id, consumable, date) VALUES (@0, @1, @2)&quot;, ((BasePlayer)entity).userID, item.info.displayName.english, getDateTime());<br /> }
                                        <br />
                                        <br /> But it has an issue with ((BasePlayer)entity).userID<br />
                                        <br /> I get:<br />
                                        <br /> Error while compiling MStats.cs(229,108): error CS0103: The name `entity&#039; does not exist in the current context<br />
                                        <br /> Am I referencing BasePlayer correctly or is it not there to reference?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>You can&#039;t pull a variable out of thin air, it has to be defined somewhere. <img src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie2" alt=";)"
                            title="Wink    ;)" />
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296933' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 12, 2017 at 4:50 PM">Feb 12, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296933' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/296933/permalink">#11</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-296981" class="message" data-author="Tunnleram">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Tunnleram" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Tunnleram</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">With all due respect, that seems like a smarty pants answer to me, but not smart enough to help me further
                        killyou&#039;s answer. <br />
                        <br /> What I don&#039;t know yet, since I&#039;m new, is what BasePlayer gives me back in this situation. <br />
                        <span style="font-size: 15px"><br /> ((BasePlayer)entity).userID doesn&#039;t exist as a variable - at least I deduce that&#039;s what you&#039;re suggesting. However,
                            doesn&#039;t BasePlayer player = tool.GetOwnerPlayer(); declare the player as a variable and give me access to it&#039;s properties? or do I have to declare everything
                            individually?<br />
                            <br /> If so, how might I declare the userID?<br />
                            <br /> Is there any documentation you can refer me to? I don&#039;t see anything on BasePlayer on this site, but maybe I missed it.</span>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Tunnleram</a>,</span>
                        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296981' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 12, 2017 at 7:14 PM">Feb 12, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296981' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/296981/permalink">#12</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-296993" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Tunnleram">
                            <aside>
                                <div class="attribution type">Tunnleram said: <a href="#post-296981" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">With all due respect, that seems like a smarty pants answer to me, but not smart enough to help me further killyou&#039;s answer.<br />
                                        <br /> What I don&#039;t know yet, since I&#039;m new, is what BasePlayer gives me back in this situation.<br />
                                        <span style="font-size: 15px"><br /> ((BasePlayer)entity).userID doesn&#039;t exist as a variable - at least I deduce that&#039;s what you&#039;re suggesting.
                                            However, doesn&#039;t BasePlayer player = tool.GetOwnerPlayer(); declare the player as a variable and give me access to it&#039;s properties? or do I have
                                            to declare everything individually?<br />
                                            <br /> If so, how might I declare the userID?<br />
                                            <br /> Is there any documentation you can refer me to? I don&#039;t see anything on BasePlayer on this site, but maybe I missed it.</span></div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>The error you had was: &quot;The name `entity&#039; does not exist in the current context&quot; which means that you are trying to use a variable named &quot;entity&quot;
                        that does not exist. If the BasePlayer is indeed validly defined with the player variable, then you&#039;d need to use &quot;player&quot;, not &quot;entity&quot; as the
                        variable name.<br />
                        <br /> BasePlayer comes from Rust, as does BaseEntity, and Item; not Oxide. You can find information about those under Rust&#039;s Assembly-CSharp.dll using a .NET decompiler
                        such as JustDecompile. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296993' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 12, 2017 at 8:09 PM">Feb 12, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-296993' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/296993/permalink">#13</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-297097" class="message" data-author="Tunnleram">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Tunnleram" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Tunnleram</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Thank you Wulf. That is very helpful! <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Tunnleram</a>,</span>
                        <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-297097' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 13, 2017 at 2:22 AM">Feb 13, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/cant-get-onhealingitemuse-hook-to-work.23674/#post-297097' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/297097/permalink">#14</a>
                </div>
            </div>
        </div>
    </li>
</ol>
