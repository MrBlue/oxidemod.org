---
layout: forums
title: 'Solved - Finding a player?'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Hurtworld Development": "/forums/hurtworld-development.86/"
---
<div class="titleBar">
    <h1>
        <span class="prefix prefixGreen">Solved</span> <a href="{{ '/threads/finding-a-player.13369/' | prepend: site.baseurl }}">Finding a player?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/hurtworld-development.86/' | prepend: site.baseurl }}">Hurtworld Development</a>' started by <a class="username"
            dir="auto">Veydart</a>, <a href="{{ '/threads/finding-a-player.13369/' | prepend: site.baseurl }}"><span class="DateTime" title="Dec 13, 2015 at 10:15 PM">Dec 13, 2015</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-150819" class="message" data-author="Veydart">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Veydart" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Veydart</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I need function to find player, target! <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Veydart</a>,</span>
                        <a href="{{ '/threads/finding-a-player.13369/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime" title="Dec 13, 2015 at 10:15 PM">Dec
                                13, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/finding-a-player.13369/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/150819/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-150840" class="message" data-author="LaserHydra">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="LaserHydra" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">LaserHydra</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
        ////////////////////////////////////////
        ///     Player Finding by LaserHydra
        ////////////////////////////////////////        PlayerIdentity GetPlayer(string searchedPlayer, PlayerIdentity executer)
        {
            List&lt;PlayerIdentity&gt; foundPlayers =
                (from player in GameManager.Instance.GetIdentityMap().Values
                 where player.Name.ToLower().Contains(searchedPlayer.ToLower())
                 select player).ToList();            switch (foundPlayers.Count)
            {
                case 0:
                    hurt.SendChatMessage(executer, &quot;The player can not be found.&quot;);
                    break;                case 1:
                    return foundPlayers[0];                default:
                    List&lt;string&gt; playerNames = (from player in foundPlayers select player.Name).ToList();
                    string players = ListToString(playerNames, 0, &quot;, &quot;);
                    hurt.SendChatMessage(executer, &quot;Multiple matching players found: \n&quot; + players);
                    break;
            }            return null;
        }</pre>{% endraw %}
                        </div>Please credit me if you use this.<br /> Or make your own, what I recommend. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate"> Last edited by a moderator: <span class="DateTime" title="Dec 13, 2015 at 11:56 PM">Dec 13, 2015</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">LaserHydra</a>,</span>
                        <a href="{{ '/threads/finding-a-player.13369/#post-150840' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2015 at 11:25 PM">Dec 13, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/finding-a-player.13369/#post-150840' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/150840/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-150854" class="message" data-author="serg1980serg">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="serg1980serg" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">serg1980serg</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
PlayerIdentity FindPlayer(string nameorid)
        {
            foreach (KeyValuePair&lt;CSteamID, PlayerIdentity&gt; players in (Dictionary&lt;CSteamID, PlayerIdentity&gt;)Singleton&lt;GameManager&gt;.Instance.GetIdentifierMap())
            {
                PlayerIdentity toPlayer = players.Value;
                if (toPlayer.Name.ToLower().Contains(nameorid.ToLower()) || toPlayer.SteamId.ToString() == nameorid)
                {
                    return toPlayer;
                }
            }
            return null;
        }
</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">serg1980serg</a>,</span>
                        <a href="{{ '/threads/finding-a-player.13369/#post-150854' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2015 at 11:54 PM">Dec 13, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/finding-a-player.13369/#post-150854' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/150854/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-150856" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> You could also just use the function that Oxide already provides: <a
                            href="https://github.com/OxideMod/Oxide/blob/master/Games/Unity/Oxide.Game.Hurtworld/HurtworldCore.cs#L712" target="_blank" class="externalLink">Oxide/HurtworldCore.cs at
                            master · OxideMod/Oxide · GitHub</a>. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/finding-a-player.13369/#post-150856' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2015 at 11:55 PM">Dec 13, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/finding-a-player.13369/#post-150856' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/150856/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-151037" class="message" data-author="Veydart">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Veydart" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Veydart</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> You understand me. I&#039;m writing plugin on give item for player, I cant choose who get items! please help me!
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Veydart</a>,</span>
                        <a href="{{ '/threads/finding-a-player.13369/#post-151037' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 14, 2015 at 1:14 PM">Dec 14, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/finding-a-player.13369/#post-151037' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/151037/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-151039" class="message" data-author="LaserHydra">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="LaserHydra" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">LaserHydra</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Veydart">
                            <aside>
                                <div class="attribution type">Veydart said: <a href="#post-151037" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">You understand me. I&#039;m writing plugin on give item for player, I cant choose who get items! please help me!</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>- Kits Plugin as reference for giving items<br /> - Above code<br /> - C# knowledge<br /> Thats all you need.<br /> If your problem is the knowledge, i recommend learning
                        C# and not just always hoping for getting a finished code. At least you can not call that developing then, then you should just post what you want into the Requests section and
                        propably somebody will make that.<br />
                        <br /> You should at least try it yourself and if you fail, tell us what you have tried and where you problem is. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">LaserHydra</a>,</span>
                        <a href="{{ '/threads/finding-a-player.13369/#post-151039' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 14, 2015 at 1:17 PM">Dec 14, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/finding-a-player.13369/#post-151039' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/151039/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-152781" class="message" data-author="denalb">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="denalb" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">denalb</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Wulf">
                            <aside>
                                <div class="attribution type">Wulf said: <a href="#post-150856" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">You could also just use the function that Oxide already provides: <a
                                            href="https://github.com/OxideMod/Oxide/blob/master/Games/Unity/Oxide.Game.Hurtworld/HurtworldCore.cs#L712" target="_blank" class="externalLink  rel="
                                            nofollow">Oxide/HurtworldCore.cs at master · OxideMod/Oxide · GitHub</a>.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>How would I call FindSession without adding the entire code in to my plugin, or is that actually required? I have it working with my plugin, but I have to add the
                        following to the plugin for it to work. Is there a way to call it without?<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>private PlayerSession FindSession(string nameOrIdOrIp)
        {
            var sessions = GameManager.Instance.GetSessions();
            PlayerSession session = null;
            foreach (var i in sessions)
            {
                if (nameOrIdOrIp.Equals(i.Value.Name, StringComparison.OrdinalIgnoreCase) ||
                    nameOrIdOrIp.Equals(i.Value.SteamId.ToString()) || nameOrIdOrIp.Equals(i.Key.ipAddress))
                {
                    session = i.Value;
                    break;
                }
            }
            return session;
        }</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">denalb</a>,</span>
                        <a href="{{ '/threads/finding-a-player.13369/#post-152781' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 18, 2015 at 8:45 PM">Dec 18, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/finding-a-player.13369/#post-152781' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/152781/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-152790" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="denalb">
                            <aside>
                                <div class="attribution type">denalb said: <a href="#post-152781" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">How would I call FindSession without adding the entire code in to my plugin, or is that actually required? I have it working with my plugin, but
                                        I have to add the following to the plugin for it to work. Is there a way to call it without?<br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>private PlayerSession FindSession(string nameOrIdOrIp)
        {
            var sessions = GameManager.Instance.GetSessions();
            PlayerSession session = null;
            foreach (var i in sessions)
            {
                if (nameOrIdOrIp.Equals(i.Value.Name, StringComparison.OrdinalIgnoreCase) ||
                    nameOrIdOrIp.Equals(i.Value.SteamId.ToString()) || nameOrIdOrIp.Equals(i.Key.ipAddress))
                {
                    session = i.Value;
                    break;
                }
            }
            return session;
        }</pre>{% endraw %}
                                        </div>
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>I&#039;ll need to expose it via the API, otherwise you could use the <a
                            href="https://github.com/OxideMod/Oxide/tree/master/Games/Unity/Oxide.Game.Rust/Libraries/Covalence" target="_blank" class="externalLink">Covalence API</a>. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/finding-a-player.13369/#post-152790' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 18, 2015 at 9:01 PM">Dec 18, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/finding-a-player.13369/#post-152790' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/152790/permalink">#8</a>
                </div>
            </div>
        </div>
    </li>
</ol>
