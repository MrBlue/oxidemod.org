---
layout: forums
title: 'Solved - QueryErrorException and NullReferenceException on server start | Page 3'
breadcrumbs:
 - "Game Discussion": "/categories/game-discussion.106/"
 - "Rust Discussion": "/forums/rust-discussion.23/"
---
<div class="titleBar">
    <h1>
        <span class="prefix prefixGreen">Solved</span> <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/' | prepend: site.baseurl }}">QueryErrorException and
            NullReferenceException on server start</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-discussion.23/' | prepend: site.baseurl }}">Rust Discussion</a>' started by <a class="username"
            dir="auto">PUREjaguar</a>, <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/' | prepend: site.baseurl }}"><span class="DateTime"
                title="Jul 8, 2016 at 6:43 PM">Jul 8, 2016</span></a>.
    </p>
</div>
<div class="pageNavLinkGroup">
    <div class="linkGroup SelectionCountContainer">
    </div>
    <div class="PageNav" data-page="3" data-range="2" data-start="2" data-end="2" data-last="3" data-sentinel="{sentinel}"
        data-baseurl="page-{sentinel}">
        <nav>
            <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/page-2' | prepend: site.baseurl }}" class="text">&lt; Prev</a>
            <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/' | prepend: site.baseurl }}" class="" rel="start">1</a>
            <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/page-2' | prepend: site.baseurl }}" class="">2</a>
            <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/page-3' | prepend: site.baseurl }}" class="currentPage ">3</a>
        </nav>
    </div>
</div>
<ol class="messageList" id="messageList">
    <li id="post-227902" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Zethien">
                            <aside>
                                <div class="attribution type">Zethien said: <a href="#post-227894" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">So I updated some Mods the other day and realized I could also use an oxide update. I went into my control panel and did the update, restarted
                                        the server obviously and now i&#039;m getting this mess....<br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>[7/12/2016 6:32:07 AM] QueryErrorException: Query Error: SELECT AgentId, Data FROM AgentData (no such table: AgentData)
Facepunch.SQLite.QueryPrepare (System.String query)
Rust.Xp.Convert.FromVersion2 (System.String olddb, System.String newdb)
ServerMgr.Initialize (Boolean loadSave, System.String saveFile, Boolean allowOutOfDateSaves, Boolean skipInitialSpawn)
Bootstrap+&lt;StartServer&gt;c__IteratorF.MoveNext ()
UnityEngine.SetupCoroutine.InvokeMoveNext (IEnumerator enumerator, IntPtr returnValueAddress)
[7/12/2016 6:32:07 AM] NullReferenceException: Object reference not set to an instance of an object
ServerMgr.Update ()</pre>{% endraw %}
                                        </div>I opened a ticket and they are saying this:<br />
                                        <br /> &quot;Yes we are aware of issues from the latest Oxide branch. We&#039;ve sent info over to the devs in hopes for a fix as we pull the mod data right
                                        from their site. This issue is directly related to Oxide and not how we install/set it up.<br />
                                        <br /> I&#039;m a little confused because it seems like my server is one of the only ones that has went down completely due to an upgrade.&quot;<br />
                                        <br /> Anyone having any similar issues because it seems to me my host is failing, not oxide or rust...
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Your host seems to be giving you a line as we&#039;ve not received anything from them or any host. The only major changes the last few Oxide updates have been just
                        updated Rust DLLs, nothing from Oxide aside from minor changes unrelated to the errors you are receiving.<br />
                        <br /> I&#039;ve merged your thread with others having the same issue, which they resolved by removing the XP data from Rust (also something Oxide does not control). <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/page-3#post-227902' | prepend: site.baseurl }}" title="Permalink"
                            class="datePermalink"><span class="DateTime" title="Jul 12, 2016 at 2:58 PM">Jul 12, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/page-3#post-227902' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/227902/permalink">#41</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-228032" class="message" data-author="Zethien">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Zethien" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Zethien</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Somehow it&#039;s happening with the DB files in the Server directory. If you wipe them out the issue goes away.
                        I&#039;ve tried 100s of things on a server that was experiencing the issue and what fixed it was the new DB files. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Zethien</a>,</span>
                        <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/page-3#post-228032' | prepend: site.baseurl }}" title="Permalink"
                            class="datePermalink"><span class="DateTime" title="Jul 12, 2016 at 9:03 PM">Jul 12, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/page-3#post-228032' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/228032/permalink">#42</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-228292" class="message" data-author="Vliek [NL]">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Vliek [NL]" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Vliek [NL]</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I have the issue now, can&#039;t connect to console and server is not starting<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>Loaded database server/my_server_identity/UserPersistence.db (446 entries)
(Filename: C:/buildslave/unity/build/artifacts/generated/common/runtime/UnityEngineDebugBindings.gen.cpp Line: 42)QueryErrorException: Query Error: SELECT AgentId, Data FROM AgentData (no such table: AgentData)
  at Facepunch.SQLite.QueryPrepare (System.String query) [0x00000] in &lt;filename unknown&gt;:0
  at Rust.Xp.Convert.FromVersion2 (System.String olddb, System.String newdb) [0x00000] in &lt;filename unknown&gt;:0
  at ServerMgr.Initialize (Boolean loadSave, System.String saveFile, Boolean allowOutOfDateSaves, Boolean skipInitialSpawn) [0x00000] in &lt;filename unknown&gt;:0
  at Bootstrap+&lt;StartServer&gt;c__IteratorF.MoveNext () [0x00000] in &lt;filename unknown&gt;:0
  at UnityEngine.SetupCoroutine.InvokeMoveNext (IEnumerator enumerator, IntPtr returnValueAddress) [0x00000] in &lt;filename unknown&gt;:0
(Filename:  Line: -1)NullReferenceException: Object reference not set to an instance of an object
  at ServerMgr.Update () [0x00000] in &lt;filename unknown&gt;:0
(Filename:  Line: -1)</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate"> Last edited by a moderator: <span class="DateTime" title="Jul 13, 2016 at 12:49 PM">Jul 13, 2016</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Vliek [NL]</a>,</span>
                        <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/page-3#post-228292' | prepend: site.baseurl }}" title="Permalink"
                            class="datePermalink"><span class="DateTime" title="Jul 13, 2016 at 10:16 AM">Jul 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/page-3#post-228292' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/228292/permalink">#43</a>
                </div>
            </div>
        </div>
    </li>
</ol>
<div class="pageNavLinkGroup">
    <div class="PageNav" data-page="3" data-range="2" data-start="2" data-end="2" data-last="3" data-sentinel="{sentinel}"
        data-baseurl="page-{sentinel}">
        <nav>
            <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/page-2' | prepend: site.baseurl }}" class="text">&lt; Prev</a>
            <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/' | prepend: site.baseurl }}" class="" rel="start">1</a>
            <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/page-2' | prepend: site.baseurl }}" class="">2</a>
            <a href="{{ '/threads/queryerrorexception-and-nullreferenceexception-on-server-start.19340/page-3' | prepend: site.baseurl }}" class="currentPage ">3</a>
        </nav>
    </div>
</div>
