---
layout: forums
title: 'Bat file that wipes and runs update on server'
breadcrumbs:
 - "Game Discussion": "/categories/game-discussion.106/"
 - "Rust Discussion": "/forums/rust-discussion.23/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/bat-file-that-wipes-and-runs-update-on-server.22982/' | prepend: site.baseurl }}">Bat file that wipes and runs update on server</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-discussion.23/' | prepend: site.baseurl }}">Rust Discussion</a>' started by <a class="username"
            dir="auto">Tommy_vr</a>, <a href="{{ '/threads/bat-file-that-wipes-and-runs-update-on-server.22982/' | prepend: site.baseurl }}"><span class="DateTime" title="Jan 12, 2017 at 6:06 PM">Jan
                12, 2017</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-284162" class="message" data-author="Tommy_vr">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Tommy_vr" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Tommy_vr</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Hello, i just made this for my own server, and i tought why not share it with the community. So here you go just
                        make a .BAT file eith this code. the .BAT file will also be downloadable from this tread, and here is the Hastebin link: <a href="https://hastebin.com/zisofufoxi.tex"
                            target="_blank" class="externalLink" rel="nofollow">hastebin</a>:<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>@echo off
:menu
cls
color 7
echo.
echo Welcome to &quot;Rust wiper&quot; by tommy_vr
echo Please type your password to start file wiping.
echo.
set /p pass=Password Please :if %pass% == YOUR_PW goto success
if not %pass% == YOUR_PW goto incorrect:incorrect
cls
color 4
echo.
echo The password or username is incorrect!
echo The file will close in 5sec
timeout 5
exit
echo.:success
cls
color 6
echo.
echo That password was right! File deletion will start in 5sec...
timeout 5cls
echo Deleting Files
del &quot;C:\Rust\server\rustds\server\SERVER_IDENTITY\oxide\data\LustyMap\CustomData.json&quot;
del &quot;C:\Rust\server\rustds\server\SERVER_IDENTITY\oxide\data\LustyMap\ImageData.json&quot;
del &quot;C:\Rust\server\rustds\server\SERVER_IDENTITY\oxide\data\Kits_Data.json&quot;
del &quot;C:\Rust\server\rustds\server\SERVER_IDENTITY\oxide\data\NTeleportationHome.json&quot;
del &quot;C:\Rust\server\rustds\server\SERVER_IDENTITY\*.sav&quot;
del &quot;C:\Rust\server\rustds\server\SERVER_IDENTITY\*.txt&quot;
del &quot;C:\Rust\server\rustds\server\SERVER_IDENTITY\*.db&quot;echo Files Deleted! Now deleting folders (This may take some time).@RD /S /Q &quot;C:\Rust\server\rustds\server\SERVER_IDENTITY\storage&quot;
echo ...
@RD /S /Q &quot;C:\Rust\server\rustds\server\SERVER_IDENTITY\user&quot;
echo ...
@RD /S /Q &quot;C:\Rust\server\rustds\server\SERVER_IDENTITY\ugc&quot;
echo ...
@RD /S /Q &quot;C:\Rust\server\rustds\server\SERVER_IDENTITY\oxide\data\KDRGui&quot;
echo ...cls
color 2
echo.
echo All files deleted! Starting Map seen change.
ping -n 3 google.com  | find &quot;Reply&quot; &gt; nul
set /a num=%random% %%999999 +111
clsecho echo off &gt; Run_DS.bat
echo :start &gt;&gt; Run_DS.batecho. &gt;&gt; Run_DS.batecho cd rustds &gt;&gt; Run_DS.bat
echo RustDedicated.exe -batchmode +server.url &quot;SERVER URL&quot; +server.worldsize &quot;4000&quot; +server.descreption &quot;SERVER DESCRIPTION&quot; +rcon.password &quot;RCON PW&quot; +server.headerimage &quot;HEADER IMAGE (LEAVE BLANK IF YOU DONT HAVE ANY)&quot; +server.hostname &quot;HOST NAME&quot; +server.port &quot;28015&quot; +server.identity &quot;SERVER IDENTITY&quot; +server.seed &quot;%random%&quot; -logFile &quot;output.txt&quot; &gt;&gt; Run_DS.bat
echo cd ../ &gt;&gt; Run_DS.bat
echo. &gt;&gt; Run_DS.bat
echo goto start &gt;&gt; Run_DS.batcls
echo.
echo Map seed changed! Please wait...
start update.bat
ping -n 3 google.com  | find &quot;Reply&quot; &gt; nul
echo Everythings OKAY! You can close this file now.
timeout 5</pre>{% endraw %}
                        </div>And remember to change the Password (Default &quot;YOUR_PW&quot;) to what ever you want, and change the file paths to match your server. Also change the Run_DS.bat on the
                        bottom to match your server. And it will do everything automaticly for you! This will also update your server, but the update.bat file has to be in the same dir.<br />
                        <br /> I hope this helped you out, becoause it&#039;s a real time saver for me <img src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie2" alt=";)"
                            title="Wink    ;)" /><br />
                        <br /> This will not update Oxide, so you have to do that manually, but after that everything should be ready to use (After changing file paths).<br />
                        <br /> I will try to make a script that downloads oxide automaticly and replaces it, but that will happen at a later time.<br />
                        <br /> The password is not needed, just me playing arround.<br />
                        <br /> Im sorry for any misspelling or bad English, English is not my native language.<br />
                        <br /> If you have any questions, or problems just comment. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
                <div class="attachedFiles">
                    <h4 class="attachedFilesHeader">Attached Files:</h4>
                    <ul class="attachmentList SquareThumbs" data-thumb-height="50" data-thumb-selector="div.thumbnail > a">
                        <li class="attachment" title="Wipe and Update.bat">
                            <div class="boxModelFixer primaryContent">
                                <div class="thumbnail">
                                    <a href="attachments/wipe-and-update-bat.31974/" target="_blank" class="genericAttachment"></a>
                                </div>
                                <div class="attachmentInfo pairsJustified">
                                    <h6 class="filename"><a href="attachments/wipe-and-update-bat.31974/" target="_blank">Wipe and Update.bat</a></h6>
                                    <dl>
                                        <dt>File size:</dt>
                                        <dd>2.7 KB</dd>
                                    </dl>
                                    <dl>
                                        <dt>Views:</dt>
                                        <dd>61</dd>
                                    </dl>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Tommy_vr</a>,</span>
                        <a href="{{ '/threads/bat-file-that-wipes-and-runs-update-on-server.22982/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 12, 2017 at 6:06 PM">Jan 12, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/bat-file-that-wipes-and-runs-update-on-server.22982/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/284162/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
</ol>
