---
layout: forums
title: 'Solved - Anyway to detect server wipe? | Page 2'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <span class="prefix prefixGreen">Solved</span> <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/' | prepend: site.baseurl }}">Anyway to detect server wipe?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">NexusBR</a>, <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/' | prepend: site.baseurl }}"><span class="DateTime" title="Jan 14, 2015 at 11:56 AM">Jan 14,
                2015</span></a>.
    </p>
</div>
<div class="pageNavLinkGroup">
    <div class="PageNav" data-page="2" data-range="2" data-start="2" data-end="2" data-last="2" data-sentinel="{%raw%}{{sentinel}}{%endraw%}" data-baseurl="threads/anyway-to-detect-server-wipe.6422/page-{%raw%}{{sentinel}}{%endraw%}">
        <nav>
            <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/' | prepend: site.baseurl }}" class="text">&lt; Prev</a>
            <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/' | prepend: site.baseurl }}" class="" rel="start">1</a>
            <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2' | prepend: site.baseurl }}" class="currentPage ">2</a>
        </nav>
    </div>
</div>
<ol class="messageList" id="messageList">
    <li id="post-60494" class="message" data-author="NexusBR">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="NexusBR" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">NexusBR</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Mr. Bubbles">
                            <aside>
                                <div class="attribution type">Mr. Bubbles said: <a href="#post-60485" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Like I mentioned above, the checksums are not available in the current version (not where I was looking for them anyway). It&#039;ll be much
                                        easier to do after the next update and I&#039;ll submit a pull request for the oxide patcher at that time to get the hook added into the official version of
                                        Oxide so after that, custom hooks and custom DLL&#039;s won&#039;t be necessary.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>But checksum is like file hash, It changes if the save change, Like add a new Building, or a new player connects, isn&#039;t ? <div class="messageTextEndMarker">&nbsp;
                        </div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">NexusBR</a>,</span>
                        <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60494' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 16, 2015 at 8:56 AM">Jan 16, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60494' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60494/permalink">#21</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60495" class="message" data-author="t0pdevice">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="t0pdevice" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">t0pdevice</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote">
                            <aside>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Like I mentioned above, the checksums are not available in the current version (not where I was looking for them anyway). It&#039;ll be much
                                        easier to do after the next update and I&#039;ll submit a pull request for the oxide patcher at that time to get the hook added into the official version of
                                        Oxide so after that, custom hooks and custom DLL&#039;s won&#039;t be necessary.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>You don&#039;t need checksums and ProtoBuf.Save. It&#039;s enough hook without arguments. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">t0pdevice</a>,</span>
                        <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60495' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 16, 2015 at 9:06 AM">Jan 16, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60495' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60495/permalink">#22</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60498" class="message" data-author="Mr. Bubbles">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Mr. Bubbles" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Mr. Bubbles</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="NexusBR">
                            <aside>
                                <div class="attribution type">NexusBR said: <a href="#post-60494" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">But checksum is like file hash, It changes if the save change, Like add a new Building, or a new player connects, isn&#039;t ?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>From what I understand, it is a hash of the generated world data, not of the save data itself meaning it only changes when the generated world data itself changes. Could
                        be wrong though.<br />
                        <br />
                        <div class="bbCodeBlock bbCodeQuote" data-author="t0pdevice">
                            <aside>
                                <div class="attribution type">t0pdevice said: <a href="#post-60495" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">You don&#039;t need checksums and ProtoBuf.Save. It&#039;s enough hook without arguments.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Then feel free to implement it and PR it to the Oxide Patcher github. Less work for me for a feature I don&#039;t need. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Mr. Bubbles</a>,</span>
                        <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60498' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 16, 2015 at 9:39 AM">Jan 16, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60498' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60498/permalink">#23</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60501" class="message" data-author="NexusBR">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="NexusBR" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">NexusBR</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Mr. Bubbles">
                            <aside>
                                <div class="attribution type">Mr. Bubbles said: <a href="#post-60498" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">From what I understand, it is a hash of the generated world data, not of the save data itself meaning it only changes when the generated world
                                        data itself changes. Could be wrong though.<br />
                                        <br />
                                        <br />
                                        <br /> Then feel free to implement it and PR it to the Oxide Patcher github. Less work for me for a feature I don&#039;t need.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>A feature you don&#039;t need NOW, but some day you might need, As i need one now, And a lot of plugins can use a feature like that. <div class="messageTextEndMarker">
                            &nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">NexusBR</a>,</span>
                        <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60501' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 16, 2015 at 10:12 AM">Jan 16, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60501' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60501/permalink">#24</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60502" class="message" data-author="Mr. Bubbles">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Mr. Bubbles" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Mr. Bubbles</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">When I do need it, I&#039;m perfectly capable of adding it. What he was saying is that you don&#039;t need
                        checksums, that the hook just needs to be there, which in my opinion is incorrect. Just because the world successfully loads doesn&#039;t mean that it hasn&#039;t changed. Rust
                        itself uses the checksums to determine differences in world generation so it would be useful to us to have the same capability. Just detecting that the world successfully
                        loaded isn&#039;t very useful at all in my opinion. ProtoBuf.Save contains the checksum of the saved world generation data and World.checksum contains the current checksum of
                        the newly generated world with the same seed. If they match, the world generation has not changed and objects from the save are spawned in. If the checksums do not match, the
                        world generation procedure has changed and the newly generated world is used with no data loaded from the save and no saved objects spawned in. The generated world itself is
                        never actually saved, just the objects in it. It is always generated at runtime which is why the checksums are used to make sure that the generation procedure hasn&#039;t
                        changed, otherwise you&#039;d end up with objects spawned in the wrong places. It also greatly reduces the size of the save file. So when the dev version that has the checksum
                        data easily accessible in the ProtoBuf.Save and World types becomes the current release version, I&#039;ll look into adding the hook for it. The only case I can think of where
                        this wouldn&#039;t work is if you generated a new, empty world with the same seed and same generation engine as the old one because then the checksums would match even though
                        the server had been wiped. Even then, you wouldn&#039;t have to use the checksum data from ProtoBuf.Save, you could just do whatever you like with the hook if the checksums
                        aren&#039;t necessary for what you&#039;re trying to achieve. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate">Last edited by a moderator: <span class="DateTime" title="Jan 16, 2015 at 10:44 AM">Jan 16, 2015</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Mr. Bubbles</a>,</span>
                        <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60502' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 16, 2015 at 10:38 AM">Jan 16, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60502' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60502/permalink">#25</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60503" class="message" data-author="NexusBR">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="NexusBR" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">NexusBR</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Well i might founded a easier way i found this on the log: [1/16/2015 6:32:54 AM] Terrain checksum is
                        91efc714e8c9c79c3ceccfbaa139168f-7585240c240188cb693406fe4810d79f, There is anyway to read the log by using a plugin? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">NexusBR</a>,</span>
                        <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60503' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 16, 2015 at 12:32 PM">Jan 16, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60503' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60503/permalink">#26</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60721" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Here&#039;s an easy solution for detecting if the server was force-wiped via save version change.<br />
                        <br /> Simply check the save protocol version, store it, and compare every start.<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>Rust.Protocol.save</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60721' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 17, 2015 at 3:26 PM">Jan 17, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60721' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60721/permalink">#27</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60945" class="message" data-author="NexusBR">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="NexusBR" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">NexusBR</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Wulf">
                            <aside>
                                <div class="attribution type">Wulf said: <a href="#post-60721" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Here&#039;s an easy solution for detecting if the server was force-wiped via save version change.<br />
                                        <br /> Simply check the save protocol version, store it, and compare every start.<br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>Rust.Protocol.save</pre>{% endraw %}
                                        </div>
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Thanks that will help. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">NexusBR</a>,</span>
                        <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60945' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 18, 2015 at 2:33 PM">Jan 18, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2#post-60945' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60945/permalink">#28</a>
                </div>
            </div>
        </div>
    </li>
</ol>
<div class="pageNavLinkGroup">
    <div class="PageNav" data-page="2" data-range="2" data-start="2" data-end="2" data-last="2" data-sentinel="{%raw%}{{sentinel}}{%endraw%}" data-baseurl="threads/anyway-to-detect-server-wipe.6422/page-{%raw%}{{sentinel}}{%endraw%}">
        <nav>
            <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/' | prepend: site.baseurl }}" class="text">&lt; Prev</a>
            <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/' | prepend: site.baseurl }}" class="" rel="start">1</a>
            <a href="{{ '/threads/anyway-to-detect-server-wipe.6422/page-2' | prepend: site.baseurl }}" class="currentPage ">2</a>
        </nav>
    </div>
</div>
