---
layout: forums
title: 'Solved - Access private method with C#'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <span class="prefix prefixGreen">Solved</span> <a href="{{ '/threads/access-private-method-with-c.11763/' | prepend: site.baseurl }}">Access private method with C#</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">Inofix</a>, <a href="{{ '/threads/access-private-method-with-c.11763/' | prepend: site.baseurl }}"><span class="DateTime" title="Sep 17, 2015 at 7:03 PM">Sep 17,
                2015</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-129159" class="message" data-author="Inofix">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Inofix" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Inofix</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">I&#039;m trying to call the BuildingBlock.UpgradeToGrade function with C#, but this method is private.<br />
                        <br />
                        <a href="http://oxidemod.org/threads/private-methods-fields.6571/" class="internalLink">Private Methods &amp; Fields | Oxide</a><br /> I found this but it doesn&#039;t really
                        help me. I have never working with these kind of things.<br />
                        <br /> Is it even possible?<br />
                        <br /> - Ino <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Inofix</a>,</span>
                        <a href="{{ '/threads/access-private-method-with-c.11763/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Sep 17, 2015 at 7:03 PM">Sep 17, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/access-private-method-with-c.11763/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/129159/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-129169" class="message" data-author="Reneb">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Reneb" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Reneb</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">UpgradeToGrade? this doesn&#039;t exist.<br /> you have DoUpgradeToGrade(RPCMessage msg)<br /> but you can&#039;t
                        use this<br /> if you want to set a grade just use: <br /> BuildingBlock.SetGrade( BuildingGrade.Enum iGradeID ) <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Reneb</a>,</span>
                        <a href="{{ '/threads/access-private-method-with-c.11763/#post-129169' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Sep 17, 2015 at 8:48 PM">Sep 17, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/access-private-method-with-c.11763/#post-129169' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/129169/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-129172" class="message" data-author="Inofix">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Inofix" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Inofix</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">My bad, had client assembly csharp opened.<br />
                        <br /> But still how&#039;s it possible to call a privat method?<br />
                        <br /> EDIT: I&#039;m looking for a function to upgrade the wall and take the items away from the player without using the hammer. <div class="messageTextEndMarker">&nbsp;
                        </div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Inofix</a>,</span>
                        <a href="{{ '/threads/access-private-method-with-c.11763/#post-129172' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Sep 17, 2015 at 8:57 PM">Sep 17, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/access-private-method-with-c.11763/#post-129172' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/129172/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-129174" class="message" data-author="PaiN">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="PaiN" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">PaiN</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Inofix">
                            <aside>
                                <div class="attribution type">Inofix said: <a href="#post-129172" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">My bad, had client assembly csharp opened.<br />
                                        <br /> But still how&#039;s it possible to call a privat method?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div><a href="https://msdn.microsoft.com/en-us/library/ms173183.aspx" target="_blank" class="externalLink  rel=" nofollow">Reflection (C# and Visual Basic)</a> ? <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">PaiN</a>,</span>
                        <a href="{{ '/threads/access-private-method-with-c.11763/#post-129174' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Sep 17, 2015 at 8:59 PM">Sep 17, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/access-private-method-with-c.11763/#post-129174' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/129174/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-129265" class="message" data-author="Reneb">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Reneb" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Reneb</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>[MaxDistance(4f), RPC_Server]
private void DoUpgradeToGrade(BaseEntity.RPCMessage msg)
{
    BuildingGrade.Enum iGrade = (BuildingGrade.Enum) msg.read.Int32();
    ConstructionGrade g = this.GetGrade(iGrade);
    object[] args = new object[] { this, msg, iGrade };
    if (((((Interface.CallHook(&quot;IOnStructureUpgrade&quot;, args) == null) &amp;&amp; (g != null)) &amp;&amp; this.CanChangeToGrade(iGrade, msg.player)) &amp;&amp; this.CanAffordUpgrade(iGrade, msg.player)) &amp;&amp; (base.TimeSinceAttacked() &gt;= 8f))
    {
        this.PayForUpgrade(g, msg.player);
        this.SetGrade(iGrade);
        this.SetHealthToMax();
        this.StartBeingRotatable();
        base.SendNetworkUpdate(BasePlayer.NetworkQueue.Update);
        Effect.server.Run(&quot;assets/bundled/prefabs/fx/build/promote_&quot; + iGrade.ToString().ToLower() + &quot;.prefab&quot;, this, 0, Vector3.zero, Vector3.zero, null, false);
    }
}</pre>{% endraw %}
                        </div>that&#039;s the original function. You can use most of the code.<br /> As for using private methods.<br /> read this plugin: <a
                            href="https://github.com/strykes/Oxide2Plugins/blob/master/CSharp/Build.cs" target="_blank" class="externalLink  rel=" nofollow">Oxide2Plugins/Build.cs at master ·
                            strykes/Oxide2Plugins · GitHub</a><br /> private MethodInfo CreateEntity;<br /> private MethodInfo FindPrefab; <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Reneb</a>,</span>
                        <a href="{{ '/threads/access-private-method-with-c.11763/#post-129265' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Sep 17, 2015 at 11:19 PM">Sep 17, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/access-private-method-with-c.11763/#post-129265' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/129265/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-129306" class="message" data-author="Inofix">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Inofix" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Inofix</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Thanks! <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Inofix</a>,</span>
                        <a href="{{ '/threads/access-private-method-with-c.11763/#post-129306' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Sep 18, 2015 at 12:10 AM">Sep 18, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/access-private-method-with-c.11763/#post-129306' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/129306/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-129311" class="message" data-author="Reneb">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Reneb" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Reneb</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">ok wrong example, forgot that i don&#039;t use t in this plugin<br /> private MethodInfo inventoryClear =
                        typeof(ItemContainer).GetMethod(&quot;Clear&quot;, BindingFlags.NonPublic | BindingFlags.Instance);<br /> inventoryClear.Invoke(box.inventory, null);<br />
                        <br /> so try something like<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>MethodInfo DoUpgradeToGrade = typeof(BasePlayer).GetMethod(&quot;CanChangeToGrade&quot;, BindingFlags.NonPublic | BindingFlags.Instance);
DoUpgradeToGrade.Invoke(Block, new object[] { BuildingGrade.Enum.TopTier, Player} );</pre>{% endraw %}
                        </div>[DOUBLEPOST=1442531725][/DOUBLEPOST]Block, Player musnt be null ofc<br /> [DOUBLEPOST=1442531795][/DOUBLEPOST]if you want a return just add var thereturn =
                        DoUpgradeToGrade.Invoke(Block, new object[] { BuildingGrade.Enum.TopTier, Player} ); <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Reneb</a>,</span>
                        <a href="{{ '/threads/access-private-method-with-c.11763/#post-129311' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Sep 18, 2015 at 12:15 AM">Sep 18, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/access-private-method-with-c.11763/#post-129311' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/129311/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-129354" class="message" data-author="Inofix">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Inofix" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Inofix</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">typeof(BasePlayer) was my mistake, didn&#039;t see i have defined BasePlayer right there, it needed to be
                        BuildingBlock.<br />
                        <br /> My question is solved, ty. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Inofix</a>,</span>
                        <a href="{{ '/threads/access-private-method-with-c.11763/#post-129354' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Sep 18, 2015 at 1:27 AM">Sep 18, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/access-private-method-with-c.11763/#post-129354' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/129354/permalink">#8</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-129357" class="message" data-author="Reneb">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Reneb" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Reneb</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">lol sorry foro that ^^ <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Reneb</a>,</span>
                        <a href="{{ '/threads/access-private-method-with-c.11763/#post-129357' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Sep 18, 2015 at 1:29 AM">Sep 18, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/access-private-method-with-c.11763/#post-129357' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/129357/permalink">#9</a>
                </div>
            </div>
        </div>
    </li>
</ol>
