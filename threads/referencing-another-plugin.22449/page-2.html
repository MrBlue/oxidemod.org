---
layout: forums
title: 'Referencing another plugin? | Page 2'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/referencing-another-plugin.22449/' | prepend: site.baseurl }}">Referencing another plugin?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username" dir="auto">Nathan
            3</a>, <a href="{{ '/threads/referencing-another-plugin.22449/' | prepend: site.baseurl }}"><span class="DateTime" title="Dec 12, 2016 at 5:58 PM">Dec 12, 2016</span></a>.
    </p>
</div>
<div class="pageNavLinkGroup">
    <div class="linkGroup SelectionCountContainer">
    </div>
    <div class="PageNav" data-page="2" data-range="2" data-start="2" data-end="2" data-last="2" data-sentinel="{%raw%}{{sentinel}}{%endraw%}" data-baseurl="threads/referencing-another-plugin.22449/page-{%raw%}{{sentinel}}{%endraw%}">
        <nav>
            <a href="{{ '/threads/referencing-another-plugin.22449/' | prepend: site.baseurl }}" class="text">&lt; Prev</a>
            <a href="{{ '/threads/referencing-another-plugin.22449/' | prepend: site.baseurl }}" class="" rel="start">1</a>
            <a href="{{ '/threads/referencing-another-plugin.22449/page-2' | prepend: site.baseurl }}" class="currentPage ">2</a>
        </nav>
    </div>
</div>
<ol class="messageList" id="messageList">
    <li id="post-276294" class="message" data-author="VVoid">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="VVoid" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">VVoid</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Nathan 3">
                            <aside>
                                <div class="attribution type">Nathan 3 said: <a href="#post-276293" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Ahhh so when someone gathers the server allocates that variable for that user that is calling the hook, right?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Exactly. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">VVoid</a>,</span>
                        <a href="{{ '/threads/referencing-another-plugin.22449/page-2#post-276294' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2016 at 1:33 PM">Dec 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/referencing-another-plugin.22449/page-2#post-276294' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/276294/permalink">#21</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-276296" class="message" data-author="Nathan 3">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Nathan 3" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Nathan 3</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="VVoid">
                            <aside>
                                <div class="attribution type">VVoid said: <a href="#post-276294" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Exactly.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Ahhh nice! How come Wekrat said I would need <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>private Dictionary&lt;BasePlayer,int&gt; gatherTracking= new Dictionary&lt;BasePlayer,int&gt;();</pre>{% endraw %}
                        </div>to prevent multiple users getting the message so if I gathered twice and someone else once we would both get the message, If the server is single-threaded like you said
                        surely that would not be needed or maybe i&#039;m misunderstanding the mechanics? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Nathan 3</a>,</span>
                        <a href="{{ '/threads/referencing-another-plugin.22449/page-2#post-276296' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2016 at 1:38 PM">Dec 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/referencing-another-plugin.22449/page-2#post-276296' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/276296/permalink">#22</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-276331" class="message" data-author="Shady757">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Shady757" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Shady757</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Nathan 3">
                            <aside>
                                <div class="attribution type">Nathan 3 said: <a href="#post-276296" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Ahhh nice! How come Wekrat said I would need<br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>private Dictionary&lt;BasePlayer,int&gt; gatherTracking= new Dictionary&lt;BasePlayer,int&gt;();</pre>{% endraw %}
                                        </div>to prevent multiple users getting the message so if I gathered twice and someone else once we would both get the message, If the server is single-threaded
                                        like you said surely that would not be needed or maybe i&#039;m misunderstanding the mechanics?
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>I didn&#039;t read all of the past posts, but from what I can see, this is to keep it triggering every 3 times for a specific player, not 3 times when any person hits it.
                        (e.g. one player hits it twice, a second player hits it once and gets it) <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Shady757</a>,</span>
                        <a href="{{ '/threads/referencing-another-plugin.22449/page-2#post-276331' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2016 at 6:13 PM">Dec 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/referencing-another-plugin.22449/page-2#post-276331' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/276331/permalink">#23</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-276335" class="message" data-author="Nathan 3">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Nathan 3" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Nathan 3</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Shady757">
                            <aside>
                                <div class="attribution type">Shady757 said: <a href="#post-276331" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">I didn&#039;t read all of the past posts, but from what I can see, this is to keep it triggering every 3 times for a specific player, not 3 times
                                        when any person hits it. (e.g. one player hits it twice, a second player hits it once and gets it)</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>I still don&#039;t see how that would stop it, I just see the tracker being used for the counter part which is just informational text?<br />
                        <br /> I thought <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>double money = (double)Economics?.CallHook(&quot;GetPlayerMoney&quot;, entity.ToPlayer().userID);</pre>{% endraw %}
                        </div> would give the money to the entity.ToPlayer().userID which VVoid said the way the server works the hook is not shared so the person gathering resources would get the
                        money and not the other player that hits once? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Nathan 3</a>,</span>
                        <a href="{{ '/threads/referencing-another-plugin.22449/page-2#post-276335' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2016 at 6:27 PM">Dec 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/referencing-another-plugin.22449/page-2#post-276335' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/276335/permalink">#24</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-276359" class="message" data-author="Werkrat">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Werkrat" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Werkrat</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> The hook is called every time someone gathers. Assuming counter is global in your original code, it would count
                        every time anyone gathers, then trigger on the 3rd call. If counter isn&#039;t defined anywhere, the code will just be broken and not work at all.<br />
                        <br /> What I did was create individual tracking for each player who gathers, check it and increment it with each gather for THAT player, so it achieves what you were going
                        for. It&#039;s global so the dictionary is able to keep track. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Werkrat</a>,</span>
                        <a href="{{ '/threads/referencing-another-plugin.22449/page-2#post-276359' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2016 at 9:11 PM">Dec 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/referencing-another-plugin.22449/page-2#post-276359' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/276359/permalink">#25</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-276363" class="message" data-author="Nathan 3">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Nathan 3" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Nathan 3</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Werkrat">
                            <aside>
                                <div class="attribution type">Werkrat said: <a href="#post-276359" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">The hook is called every time someone gathers. Assuming counter is global in your original code, it would count every time anyone gathers, then
                                        trigger on the 3rd call. If counter isn&#039;t defined anywhere, the code will just be broken and not work at all.<br />
                                        <br /> What I did was create individual tracking for each player who gathers, check it and increment it with each gather for THAT player, so it achieves what
                                        you were going for. It&#039;s global so the dictionary is able to keep track.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Ahhh that makes sense, So just assigning counter in OnGatherDispenser makes it become global? I am learning scope at the minute so I will come back to this thread and it
                        will make more sense. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Nathan 3</a>,</span>
                        <a href="{{ '/threads/referencing-another-plugin.22449/page-2#post-276363' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2016 at 9:17 PM">Dec 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/referencing-another-plugin.22449/page-2#post-276363' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/276363/permalink">#26</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-276364" class="message" data-author="Werkrat">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Werkrat" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Werkrat</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Declare is outside the hook, that&#039;s why I put it separate in my example code <img
                            src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie2" alt=";)" title="Wink    ;)" />
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Werkrat</a>,</span>
                        <a href="{{ '/threads/referencing-another-plugin.22449/page-2#post-276364' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2016 at 9:19 PM">Dec 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/referencing-another-plugin.22449/page-2#post-276364' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/276364/permalink">#27</a>
                </div>
            </div>
        </div>
    </li>
</ol>
<div class="pageNavLinkGroup">
    <div class="PageNav" data-page="2" data-range="2" data-start="2" data-end="2" data-last="2" data-sentinel="{%raw%}{{sentinel}}{%endraw%}" data-baseurl="threads/referencing-another-plugin.22449/page-{%raw%}{{sentinel}}{%endraw%}">
        <nav>
            <a href="{{ '/threads/referencing-another-plugin.22449/' | prepend: site.baseurl }}" class="text">&lt; Prev</a>
            <a href="{{ '/threads/referencing-another-plugin.22449/' | prepend: site.baseurl }}" class="" rel="start">1</a>
            <a href="{{ '/threads/referencing-another-plugin.22449/page-2' | prepend: site.baseurl }}" class="currentPage ">2</a>
        </nav>
    </div>
</div>
