---
layout: forums
title: 'Datafile library! Any help?'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/datafile-library-any-help.6023/' | prepend: site.baseurl }}">Datafile library! Any help?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">Bombardir</a>, <a href="{{ '/threads/datafile-library-any-help.6023/' | prepend: site.baseurl }}"><span class="DateTime" title="Nov 16, 2014 at 9:52 PM">Nov 16, 2014</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-55716" class="message" data-author="Bombardir">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Bombardir" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Bombardir</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Recently I made a plugin &#039;Shop&#039;. To generate the prices need to restart the server ... This is due to
                        the fact that it was impossible to change DataFile from outside the plugin! Since the table is associated with a plugin DataFile. And I can not get the data from the file again
                        as it could in the old oxide. I get the data from the table, not file.<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>data = datafile.GetDataTable( '1' ) -- from file
-- ... --
data = datafile.GetDataTable( '1' ) -- a second time from the table, ignoring the new content file</pre>{% endraw %}
                        </div><br /> Someone has an idea?<br />
                        <br /> p.s. sry for my english ;d <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate">Last edited by a moderator: <span class="DateTime" title="Nov 16, 2014 at 10:00 PM">Nov 16, 2014</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Bombardir</a>,</span>
                        <a href="{{ '/threads/datafile-library-any-help.6023/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Nov 16, 2014 at 9:52 PM">Nov 16, 2014</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/datafile-library-any-help.6023/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/55716/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-55720" class="message" data-author="thomasfn">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="thomasfn" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">thomasfn</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Why don&#039;t you store the prices in the config file? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">thomasfn</a>,</span>
                        <a href="{{ '/threads/datafile-library-any-help.6023/#post-55720' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Nov 16, 2014 at 10:54 PM">Nov 16, 2014</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/datafile-library-any-help.6023/#post-55720' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/55720/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-55722" class="message" data-author="Reneb">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Reneb" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Reneb</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Only way for that would be to put à :<br /> local data = blabla<br /> But then it would mean that the file Will
                        get read every time you use à command, and as all datas dont get reset, it would mean that at some point you would get useless Memory usage.<br /> No only way would be to
                        restart the plugin after you change the data file.<br /> [DOUBLEPOST=1416182226][/DOUBLEPOST]Or pût it un the config <img src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}"
                            class="mceSmilieSprite mceSmilie7" alt=":p" title="Stick Out Tongue    :p" />
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Reneb</a>,</span>
                        <a href="{{ '/threads/datafile-library-any-help.6023/#post-55722' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Nov 16, 2014 at 11:55 PM">Nov 16, 2014</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/datafile-library-any-help.6023/#post-55722' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/55722/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-55735" class="message" data-author="Bombardir">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Bombardir" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Bombardir</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="thomasfn">
                            <aside>
                                <div class="attribution type">thomasfn said: <a href="#post-55720" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Why don&#039;t you store the prices in the config file?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>
                        <div class="bbCodeBlock bbCodeQuote" data-author="Reneb">
                            <aside>
                                <div class="attribution type">Reneb said: <a href="#post-55722" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Only way for that would be to put à :<br /> local data = blabla<br /> But then it would mean that the file Will get read every time you use à
                                        command, and as all datas dont get reset, it would mean that at some point you would get useless Memory usage.<br /> No only way would be to restart the plugin
                                        after you change the data file.<br /> [DOUBLEPOST=1416182226][/DOUBLEPOST]Or pût it un the config <img src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}"
                                            class="mceSmilieSprite mceSmilie7" alt=":p" title="Stick Out Tongue    :p" /></div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>In my opinion the config and the date should be separated. It will be practical for people to share their price list or store them as separate files. But each has its own
                        configuration.<br /> In any case, it may be necessary not only here, so it would be nice to add this functionality in the oxide. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Bombardir</a>,</span>
                        <a href="{{ '/threads/datafile-library-any-help.6023/#post-55735' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Nov 17, 2014 at 11:48 AM">Nov 17, 2014</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/datafile-library-any-help.6023/#post-55735' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/55735/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-55740" class="message" data-author="Reneb">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Reneb" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Reneb</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">why do you need to reload the data file then? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Reneb</a>,</span>
                        <a href="{{ '/threads/datafile-library-any-help.6023/#post-55740' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Nov 17, 2014 at 12:43 PM">Nov 17, 2014</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/datafile-library-any-help.6023/#post-55740' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/55740/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-55742" class="message" data-author="Bombardir">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Bombardir" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Bombardir</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Reneb">
                            <aside>
                                <div class="attribution type">Reneb said: <a href="#post-55740" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">why do you need to reload the data file then?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>To be able to edit the prices without restarting the server. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Bombardir</a>,</span>
                        <a href="{{ '/threads/datafile-library-any-help.6023/#post-55742' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Nov 17, 2014 at 12:45 PM">Nov 17, 2014</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/datafile-library-any-help.6023/#post-55742' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/55742/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-55745" class="message" data-author="Reneb">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Reneb" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Reneb</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">manually edit the prices? or edit it from ingame?<br /> but if you edit manually the price why dont you just
                        reload the plugin? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Reneb</a>,</span>
                        <a href="{{ '/threads/datafile-library-any-help.6023/#post-55745' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Nov 17, 2014 at 1:20 PM">Nov 17, 2014</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/datafile-library-any-help.6023/#post-55745' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/55745/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-55748" class="message" data-author="Bombardir">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Bombardir" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Bombardir</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Reneb">
                            <aside>
                                <div class="attribution type">Reneb said: <a href="#post-55745" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">manually edit the prices? or edit it from ingame?<br /> but if you edit manually the price why dont you just reload the plugin?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>He remembers the table, and when you reload the plugin uses old. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate">Last edited by a moderator: <span class="DateTime" title="Nov 17, 2014 at 2:02 PM">Nov 17, 2014</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Bombardir</a>,</span>
                        <a href="{{ '/threads/datafile-library-any-help.6023/#post-55748' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Nov 17, 2014 at 1:33 PM">Nov 17, 2014</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/datafile-library-any-help.6023/#post-55748' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/55748/permalink">#8</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-55751" class="message" data-author="Reneb">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Reneb" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Reneb</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Ah yes i remember that :X<br /> Hmmm i guess the best way would be to make an ingame management of the prices so
                        admins dont edit them manually in the file. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Reneb</a>,</span>
                        <a href="{{ '/threads/datafile-library-any-help.6023/#post-55751' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Nov 17, 2014 at 2:57 PM">Nov 17, 2014</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/datafile-library-any-help.6023/#post-55751' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/55751/permalink">#9</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-55753" class="message" data-author="thomasfn">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="thomasfn" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">thomasfn</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">I suppose I could add some kind of datafile.Reload function. You could then tie that to a console command, or upon
                        plugin load. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">thomasfn</a>,</span>
                        <a href="{{ '/threads/datafile-library-any-help.6023/#post-55753' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Nov 17, 2014 at 3:14 PM">Nov 17, 2014</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/datafile-library-any-help.6023/#post-55753' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/55753/permalink">#10</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-55754" class="message" data-author="Bombardir">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Bombardir" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Bombardir</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Reneb">
                            <aside>
                                <div class="attribution type">Reneb said: <a href="#post-55751" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Ah yes i remember that :X<br /> Hmmm i guess the best way would be to make an ingame management of the prices so admins dont edit them manually
                                        in the file.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>This is quite inconvenient, still have to climb in the file for the names.<br />
                        <br />
                        <div class="bbCodeBlock bbCodeQuote" data-author="thomasfn">
                            <aside>
                                <div class="attribution type">thomasfn said: <a href="#post-55753" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">I suppose I could add some kind of datafile.Reload function. You could then tie that to a console command, or upon plugin load.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>It will be great. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Bombardir</a>,</span>
                        <a href="{{ '/threads/datafile-library-any-help.6023/#post-55754' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Nov 17, 2014 at 3:23 PM">Nov 17, 2014</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/datafile-library-any-help.6023/#post-55754' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/55754/permalink">#11</a>
                </div>
            </div>
        </div>
    </li>
</ol>
