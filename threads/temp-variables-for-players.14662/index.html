---
layout: forums
title: 'Temp variables for players?'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/temp-variables-for-players.14662/' | prepend: site.baseurl }}">Temp variables for players?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">TheMechanical97</a>, <a href="{{ '/threads/temp-variables-for-players.14662/' | prepend: site.baseurl }}"><span class="DateTime" title="Jan 15, 2016 at 8:05 PM">Jan 15,
                2016</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-164179" class="message" data-author="TheMechanical97">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="TheMechanical97" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">TheMechanical97</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I want to make a variable that&#039;s created when player connected and removed when dissconected for each player
                        :S Any idea?<br />
                        <br /> void OnPlayerInit(BasePlayer player)<br /> { <br /> int variable;<br /> } <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
                        <a href="{{ '/threads/temp-variables-for-players.14662/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2016 at 8:05 PM">Jan 15, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/temp-variables-for-players.14662/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/164179/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-164186" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> You could try player.myVariable = whatever, then make it null when disconnecting. You could also use a C# hashset
                        or dictionary. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/temp-variables-for-players.14662/#post-164186' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2016 at 8:13 PM">Jan 15, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/temp-variables-for-players.14662/#post-164186' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/164186/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-164188" class="message" data-author="TheMechanical97">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="TheMechanical97" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">TheMechanical97</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> player.MyVariable would make the variable for each player?<br /> [DOUBLEPOST=1452888923][/DOUBLEPOST]I dont mind
                        rmoving it when dissconnected<br /> Just I need a variable for each player<br /> [DOUBLEPOST=1452889074][/DOUBLEPOST]So i need to create one when first connected or even
                        everytime player connects (Exodus plugin does something like that) <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
                        <a href="{{ '/threads/temp-variables-for-players.14662/#post-164188' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2016 at 8:14 PM">Jan 15, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/temp-variables-for-players.14662/#post-164188' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/164188/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-164377" class="message" data-author="AlienX">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="AlienX" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">AlienX</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Hey,<br /> I whipped up this class in Visual Studio for you, it&#039;s totally untested but it should work.<br />
                        If i recall, you&#039;re the chap that is learning C# for Rust Plugins? - so instead of using the variable on the player object, this way you can learn how to achieve the same
                        result yourself with a solution that is tailored for you.<br />
                        <br /> The below code allows for multiple variables to be stored against the player, not just one.<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>       private PlayerVariables _playerVariables = new PlayerVariables();
       private class PlayerVariables
        {
            //Create a sub-class to store the variables in a useful manner
            private class Variable
            {
                public ulong playerID;
                public string Name;
                public string Value;
            }            //Create a list object to store our data
            private readonly List&lt;Variable&gt; _variables = new List&lt;Variable&gt;();            //Adds a new variable to the data store, so it can be returned later.
            public void Add(BasePlayer player, string name, string value)
            {
                var _existCheck = GetVariableFromNameAndID(name, player.userID);
                if (_existCheck != null)
                {
                    _existCheck.Value = value;
                    return;
                }                _variables.Add(new Variable()
                {
                    playerID = player.userID,
                    Name = name,
                    Value = value
                });
            }            //Deletes a variable for a player, by it's name
            public void Delete(BasePlayer player, string name)
            {
                var _variable = GetVariableFromNameAndID(name, player.userID);
                if (_variable == null) return;                _variables.Remove(_variable);
            }            //Reads a variable for a player, by it's name
            public string Read(BasePlayer player, string name)
            {
                var _variable = GetVariableFromNameAndID(name, player.userID);
                return _variable?.Value;
            }            //Helper method, finds the userid in the list, and the variable by it's name
            //Returns it, otehrwise returns null.
            private Variable GetVariableFromNameAndID(string name, ulong id)
            {
                return _variables.Where(x =&gt; x.playerID == id).DefaultIfEmpty(null).FirstOrDefault(x =&gt; x.Name == name);
            }
        }
</pre>{% endraw %}
                        </div>Usage:<br />
                        <ol>
                            <li>Paste the code somewhere into your class.</li>
                            <li>Now, you can use:</li>
                            <li>
                                <div class="bbCodeBlock bbCodeCode">
                                    <div class="type">Code:</div>
                                    {% raw %}<pre> _playerVariables.Add(player, &quot;deaths&quot;, &quot;10&quot;);</pre>{% endraw %}
                                </div>to for example store the variable named &quot;deaths&quot; for player, with a value of 10.
                            </li>
                        </ol>To get the variable back simply:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
var _deathTotal = _playerVariables.Read(player, &quot;deaths&quot;);
player.ChatMessage($&quot;You have died {_deathTotal} times!&quot;);
</pre>{% endraw %}
                        </div><i>Note: You dont need the extra variable &#039;_deathTotal&#039; here, but as i think you said in a previous post you were new to this stuff, i would put it there as
                            it&#039;s easier to understand - the &#039;_playerVariables.Read(player, &quot;deaths&quot;)&#039; could just go inside the chat message string in place of the _deathTotal
                            variable.</i><br />
                        <br /> To delete the variable, use:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
_playerVariables.Delete(player, &quot;deaths&quot;);
</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate"> Last edited by a moderator: <span class="DateTime" title="Jan 17, 2016 at 12:33 AM">Jan 17, 2016</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">AlienX</a>,</span>
                        <a href="{{ '/threads/temp-variables-for-players.14662/#post-164377' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 16, 2016 at 3:19 AM">Jan 16, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/temp-variables-for-players.14662/#post-164377' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/164377/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-165303" class="message" data-author="TheMechanical97">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="TheMechanical97" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">TheMechanical97</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I have this code:<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
        private int wood;
        void OnDispenserGather(ResourceDispenser dispenser, BaseEntity entity, Item item)
        {
            var _player = entity as BasePlayer;
            foreach (var _player in BasePlayer.activePlayerList)
            {
                if (_player == null) return;                switch (dispenser.gatherType)
                {
                    case ResourceDispenser.GatherType.Tree:
                        if (!permission.UserHasPermission(_player.UserIDString, &quot;stats.register&quot;)) return;
                        if (wood == null) wood = 0;
                        {
                            wood = wood + 1;
                            SendReply(_player, wood.ToString()); (DEBUG)
                            if (wood == 10000)
                            {
                                SendReply(_player, &quot;TEST MESSAGE&quot;);
                                return;
                            }
                            return;
                        }
                        return;
                        break;
           }
     }
}
</pre>{% endraw %}
                        </div>And wood variable is used by all players so i want that to register global stats (Not this code, similar one) but i need to register single stats aswell :S<br />
                        [DOUBLEPOST=1453133452][/DOUBLEPOST]I want the wood var to be temporal so playaer can see how many wood they gathered while online in that game, once dissconnected, the
                        variable gets destroyed for that player and when connecter, created, I might do this with dinamic arrays but dk how :S <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate"> Last edited by a moderator: <span class="DateTime" title="Jan 18, 2016 at 4:16 PM">Jan 18, 2016</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
                        <a href="{{ '/threads/temp-variables-for-players.14662/#post-165303' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 18, 2016 at 4:08 PM">Jan 18, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/temp-variables-for-players.14662/#post-165303' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/165303/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-164399" class="message" data-author="TheMechanical97">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="TheMechanical97" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">TheMechanical97</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="AlienX">
                            <aside>
                                <div class="attribution type">AlienX said: <a href="#post-164377" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Hey,<br /> I whipped up this class in Visual Studio for you, it&#039;s totally untested but it should work.<br /> If i recall, you&#039;re the
                                        chap that is learning C# for Rust Plugins? - so instead of using the variable on the player object, this way you can learn how to achieve the same result
                                        yourself with a solution that is tailored for you.<br />
                                        <br /> The below code allows for multiple variables to be stored against the player, not just one.<br />
                                        <br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>       private PlayerVariables _playerVariables = new PlayerVariables();
       private class PlayerVariables
        {
            //Create a sub-class to store the variables in a useful manner
            private class Variable
            {
                public ulong playerID;
                public string Name;
                public string Value;
            }            //Create a list object to store our data
            private readonly List&lt;Variable&gt; _variables = new List&lt;Variable&gt;();            //Adds a new variable to the data store, so it can be returned later.
            public void Add(BasePlayer player, string name, string value)
            {
                var _existCheck = GetVariableFromNameAndID(name, player.userID);
                if (_existCheck != null)
                {
                    _existCheck.Value = value;
                    return;
                }                _variables.Add(new Variable()
                {
                    playerID = player.userID,
                    Name = name,
                    Value = value
                });
            }            //Deletes a variable for a player, by it's name
            public void Delete(BasePlayer player, string name)
            {
                var _variable = GetVariableFromNameAndID(name, player.userID);
                if (_variable == null) return;                _variables.Remove(_variable);
            }            //Reads a variable for a player, by it's name
            public string Read(BasePlayer player, string name)
            {
                var _variable = GetVariableFromNameAndID(name, player.userID);
                return _variable?.Value;
            }            //Helper method, finds the userid in the list, and the variable by it's name
            //Returns it, otehrwise returns null.
            private Variable GetVariableFromNameAndID(string name, ulong id)
            {
                return _variables.Where(x =&gt; x.playerID == id).DefaultIfEmpty(null).FirstOrDefault(x =&gt; x.Name == name);
            }
        }
</pre>{% endraw %}
                                        </div>Usage:<br />
                                        <ol>
                                            <li>Paste the code somewhere into your class.</li>
                                            <li>Now, you can use:</li>
                                            <li>
                                                <div class="bbCodeBlock bbCodeCode">
                                                    <div class="type">Code:</div>
                                                    {% raw %}<pre> _playerVariables.Add(player, &quot;deaths&quot;, &quot;10&quot;);</pre>{% endraw %}
                                                </div>to for example store the variable named &quot;deaths&quot; for player, with a value of 10.
                                            </li>
                                        </ol>To get the variable back simply:<br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>
var _deathTotal = _playerVariables.Read(player, &quot;deaths&quot;)
player.ChatMessage($&quot;You have died {_deathTotal} times!&quot;);
</pre>{% endraw %}
                                        </div><i>Note: You dont need the extra variable &#039;_deathTotal&#039; here, but as i think you said in a previous post you were new to this stuff, i would put
                                            it there as it&#039;s easier to understand - the &#039;_playerVariables.Read(player, &quot;deaths&quot;)&#039; could just go inside the chat message string
                                            in place of the _deathTotal variable.</i><br />
                                        <br /> To delete the variable, use:<br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>
_playerVariables.Delete(player, &quot;deaths&quot;);
</pre>{% endraw %}
                                        </div>
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Oh wow... I really appreciate it dude. So much thanks! I&#039;ll try tomorrow and hopefully i can get my H1Z1 Plugin for Rust Finished <img
                            src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie8" alt=":D" title="Big Grin    :D" /><br /> [DOUBLEPOST=1453134782,1452918637][/DOUBLEPOST]&quot;To
                        store with value &quot;10&quot;, I want this variable to increase, so i need to put <br />
                        <br /> _playerVariables.Add(player, &quot;deaths&quot;, &quot;1&quot;);<br />
                        <br /> everytime i want the variable to increase by 1? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
                        <a href="{{ '/threads/temp-variables-for-players.14662/#post-164399' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 18, 2016 at 4:33 PM">Jan 18, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/temp-variables-for-players.14662/#post-164399' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/164399/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-165325" class="message" data-author="AlienX">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="AlienX" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">AlienX</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> No, you will need to read it first, then add it on, and set it again.<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
var _playerVar = Convert.toInt32(_playerVariables.Read(player, &quot;deaths&quot;));
_playerVariables.Add(player, &quot;deaths&quot;, _playerVar++.ToString());
</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">AlienX</a>,</span>
                        <a href="{{ '/threads/temp-variables-for-players.14662/#post-165325' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 18, 2016 at 4:59 PM">Jan 18, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/temp-variables-for-players.14662/#post-165325' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/165325/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-165360" class="message" data-author="TheMechanical97">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="TheMechanical97" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">TheMechanical97</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> So how can i create the veriable on player connect?<br />
                        <br /> void OnPlayerInit(BasePlayer player)<br /> }<br /> _playerVariables.Add(player, &quot;variable&quot;, 0);<br /> }<br />
                        <br /> ?<br /> [DOUBLEPOST=1453145243][/DOUBLEPOST]`System.Collections.Generic.List&lt;Oxide.Plugins.Jobs.PlayerVariables.Variable&gt;&#039; does not contain a definition for
                        `where&#039; and no extension method `where&#039; of type `System.Collections.Generic.List&lt;Oxide.Plugins.Jobs.PlayerVariables.Variable&gt;&#039; could be found. Are you
                        missing an assembly reference?<br /> [DOUBLEPOST=1453145633][/DOUBLEPOST]Okay I added using System.Linq;<br /> [DOUBLEPOST=1453148686][/DOUBLEPOST]seems not working <img
                            src="{{ '/assets/styles/default/xenforo/clear.png' | prepend: site.baseurl }}" class="mceSmilieSprite mceSmilie3" alt=":(" title="Frown    :(" /><br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre> void OnDispenserGather(ResourceDispenser dispenser, BaseEntity entity, Item item)
        {
            var _player = entity as BasePlayer;
            if (_player == null) return;            switch (dispenser.gatherType)
            {
                case ResourceDispenser.GatherType.Tree:
                    if (!permission.UserHasPermission(_player.UserIDString, &quot;randomperm&quot;)) return;
                    int myvar= Convert.ToInt32(_playerVariables.Read(_player, &quot;var&quot;));
                    SendReply(_player, myvar.ToString());
                    _playerVariables.Add(_player, &quot;var&quot;, (myvar+ 1));
                    SendReply(_player, myvar.ToString());
                    if (myvar == 10)
                    {
                        SendReply(_player, &quot;TEST&quot;);
                        _playerVariables.Add(_player, &quot;var&quot;, 0);
                        return;
                    }
                    break;
            }
        }</pre>{% endraw %}
                        </div>[DOUBLEPOST=1453148739][/DOUBLEPOST] <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>void OnPlayerRespawned(BasePlayer player)
        {
            _playerVariables.Add(player, &quot;var&quot;, 0);
        }        void OnPlayerDisconnected(BasePlayer player, string reason)
        {
            _playerVariables.Delete(player, &quot;var&quot;);
        }
        void OnPlayerInit(BasePlayer player)
        {
            _playerVariables.Add(player, &quot;var&quot;, 0);
        }</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
                        <a href="{{ '/threads/temp-variables-for-players.14662/#post-165360' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 18, 2016 at 6:37 PM">Jan 18, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/temp-variables-for-players.14662/#post-165360' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/165360/permalink">#8</a>
                </div>
            </div>
        </div>
    </li>
</ol>
