---
layout: forums
title: 'Solved - Removing a single player from a codelock authlist?'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <span class="prefix prefixGreen">Solved</span> <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/' | prepend: site.baseurl }}">Removing a single player from a
            codelock authlist?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username" dir="auto">Kyrah
            Abattoir</a>, <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/' | prepend: site.baseurl }}"><span class="DateTime" title="May 6, 2016 at 2:05 AM">May 6,
                2016</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-203320" class="message" data-author="Kyrah Abattoir">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Kyrah Abattoir" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Kyrah Abattoir</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> A while ago i wanted to nerf codelocks by making it so, on death, a mod would loop through all the codelocks and
                        tool cupboards on the server and deauth the dead player.<br />
                        <br /> The idea was that when you respawn you would be a &quot;new you&quot; and would have forgotten the codes.<br />
                        <br /> So you can&#039;t just punch a random number and forget about it, either you would use numbers you can remember, or you write them down somewhere. More codes = more
                        security = more work to keep track of them essentially.<br />
                        <br /> Has anyone found a way to access the authlist of a codelock and if no, any chance for oxide to work around that in the future? <div class="messageTextEndMarker">&nbsp;
                        </div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Kyrah Abattoir</a>,</span>
                        <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 6, 2016 at 2:05 AM">May 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/203320/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-203348" class="message" data-author="Shady757">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Shady757" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Shady757</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
FieldInfo codelist = typeof(CodeLock).GetField(&quot;whitelistPlayers&quot;, (BindingFlags.Instance | BindingFlags.NonPublic));
                            var codeListInst = (List&lt;ulong&gt;)codelist.GetValue(slotlock);</pre>{% endraw %}
                        </div>I&#039;m assuming you already know how to find the code lock on a door, or just loop through all code locks. That&#039;s how you access who is on the list. It&#039;s a
                        simple list, so just .Add(ulong userid) and .Remove<br />
                        <br /> EDIT: Also worth noting I think this is essentially the same for regular locks, but not 100% sure <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Shady757</a>,</span>
                        <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203348' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="May 6, 2016 at 5:16 AM">May 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203348' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/203348/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-203358" class="message" data-author="Kyrah Abattoir">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Kyrah Abattoir" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Kyrah Abattoir</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Alright, i&#039;ve never accessed anything this way, i couldn&#039;t find how to read it because it&#039;s marked
                        as internal. I&#039;ll try that as soon as possible.<br />
                        <br /> what&#039;s the slotlock variable that you are referencing? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate"> Last edited by a moderator: <span class="DateTime" title="May 6, 2016 at 7:36 AM">May 6, 2016</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Kyrah Abattoir</a>,</span>
                        <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203358' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="May 6, 2016 at 7:21 AM">May 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203358' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/203358/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-203367" class="message" data-author="Shady757">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Shady757" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Shady757</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Kyrah Abattoir">
                            <aside>
                                <div class="attribution type">Kyrah Abattoir said: <a href="#post-203358" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Alright, i&#039;ve never accessed anything this way, i couldn&#039;t find how to read it because it&#039;s marked as internal. I&#039;ll try that
                                        as soon as possible.<br />
                                        <br /> what&#039;s the slotlock variable that you are referencing?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>It&#039;s a code lock, hence why codelist is a typeof code lock. Once you get your specified code lock, you use GetValue(CodeLock). If you need help finding a code lock
                        on a door, I can show you code to do that as well. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Shady757</a>,</span>
                        <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203367' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="May 6, 2016 at 9:50 AM">May 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203367' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/203367/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-203370" class="message" data-author="Kyrah Abattoir">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Kyrah Abattoir" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Kyrah Abattoir</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Right! <br />
                        <br /> I&#039;ve never used reflection before so i&#039;m not familiar with the syntax.<br />
                        <br /> to get the codelocks i&#039;m currently using unity&#039;s FindObjectsOfType, is there a less &quot;overkill&quot; method to do so?<br />
                        <br /> I was thinking about only doing so when the server starts and then maintain my own list of locks as they get added/removed. <div class="messageTextEndMarker">&nbsp;
                        </div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Kyrah Abattoir</a>,</span>
                        <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203370' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="May 6, 2016 at 9:59 AM">May 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203370' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/203370/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-203373" class="message" data-author="Shady757">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Shady757" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Shady757</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Kyrah Abattoir">
                            <aside>
                                <div class="attribution type">Kyrah Abattoir said: <a href="#post-203370" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Right!<br />
                                        <br /> I&#039;ve never used reflection before so i&#039;m not familiar with the syntax.<br />
                                        <br /> to get the codelocks i&#039;m currently using unity&#039;s FindObjectsOfType, is there a less &quot;overkill&quot; method to do so?<br />
                                        <br /> I was thinking about only doing so when the server starts and then maintain my own list of locks as they get added/removed.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>That&#039;s probably the best way, though, I don&#039;t think finding all code locks is that intensive. -- As compared to finding all building blocks like twigs decay
                        does, so unless you see a hit, you may as well take the easy route first. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Shady757</a>,</span>
                        <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203373' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="May 6, 2016 at 10:20 AM">May 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203373' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/203373/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-203388" class="message" data-author="Kyrah Abattoir">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Kyrah Abattoir" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Kyrah Abattoir</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Yeah it appears to just &quot;work&quot;, I&#039;m just referring to the unity recommendation of &quot;Please
                        don&#039;t use Find* trivially&quot;, but maybe they ment &quot;don&#039;t use it every frame&quot;<br />
                        <br /> I&#039;ve no clue how many codelocks are used on a busy server, on average. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Kyrah Abattoir</a>,</span>
                        <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203388' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="May 6, 2016 at 11:26 AM">May 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203388' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/203388/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-203400" class="message" data-author="Shady757">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Shady757" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Shady757</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Kyrah Abattoir">
                            <aside>
                                <div class="attribution type">Kyrah Abattoir said: <a href="#post-203388" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Yeah it appears to just &quot;work&quot;, I&#039;m just referring to the unity recommendation of &quot;Please don&#039;t use Find*
                                        trivially&quot;, but maybe they ment &quot;don&#039;t use it every frame&quot;<br />
                                        <br /> I&#039;ve no clue how many codelocks are used on a busy server, on average.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Probably a lot. It&#039;s not hard to make a list, automatically add all the current ones to it on OnServerInit, and then OnEntitySpawn and OnEntityDeath do,
                        respectively, what you need to do to the list. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Shady757</a>,</span>
                        <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203400' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="May 6, 2016 at 12:04 PM">May 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203400' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/203400/permalink">#8</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-203475" class="message" data-author="Kyrah Abattoir">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Kyrah Abattoir" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Kyrah Abattoir</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> yup, altho codelocks are not calling on entitydeath it seems, so i have a removeall() clearing up null entries in
                        the list before flushing player codes. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Kyrah Abattoir</a>,</span>
                        <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203475' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="May 6, 2016 at 4:54 PM">May 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/removing-a-single-player-from-a-codelock-authlist.17821/#post-203475' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/203475/permalink">#9</a>
                </div>
            </div>
        </div>
    </li>
</ol>
