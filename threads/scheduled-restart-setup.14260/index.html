---
layout: forums
title: 'Scheduled restart setup?'
breadcrumbs:
 - "Game Discussion": "/categories/game-discussion.106/"
 - "Rust Discussion": "/forums/rust-discussion.23/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/scheduled-restart-setup.14260/' | prepend: site.baseurl }}">Scheduled restart setup?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-discussion.23/' | prepend: site.baseurl }}">Rust Discussion</a>' started by <a class="username" dir="auto">Axy</a>,
        <a href="{{ '/threads/scheduled-restart-setup.14260/' | prepend: site.baseurl }}"><span class="DateTime" title="Jan 6, 2016 at 2:16 AM">Jan 6, 2016</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-159779" class="message" data-author="Axy">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Axy" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Axy</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I&#039;ve finally set up a rust server on a proper dedicated server.<br /> Now I need to know how to manage auto
                        restarts (daily, or every 12 hours) and restarts at possible server crashes.<br />
                        <br /> Is this easily possible?<br />
                        <br /> Thank you. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Axy</a>,</span>
                        <a href="{{ '/threads/scheduled-restart-setup.14260/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 6, 2016 at 2:16 AM">Jan 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/scheduled-restart-setup.14260/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/159779/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-159842" class="message" data-author="AlienX">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="AlienX" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">AlienX</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Have the batch file auto-restart the server.<br />
                        <br /> Example:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
@echo off
:10
serverstarthere
echo Restarting Server!
goto 10
</pre>{% endraw %}
                        </div>Then u should be able to use the TimedExecute plugin to setup automatic restarts by executing the server command &#039;exit&#039;, don&#039;t forget to save before hand
                        just in case.<br />
                        <a href="http://oxidemod.org/plugins/timedexecute.919/" class="internalLink">TimedExecute for Rust | Oxide</a>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">AlienX</a>,</span>
                        <a href="{{ '/threads/scheduled-restart-setup.14260/#post-159842' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 6, 2016 at 10:40 AM">Jan 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/scheduled-restart-setup.14260/#post-159842' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/159842/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-159849" class="message" data-author="Axy">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Axy" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Axy</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Thank you fro your answer.<br /> One small detail I forgot to mention: I need to find a solution that will work
                        for both modded and unmodded servers (as only one of my servers is modded atm) <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Axy</a>,</span>
                        <a href="{{ '/threads/scheduled-restart-setup.14260/#post-159849' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 6, 2016 at 11:46 AM">Jan 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/scheduled-restart-setup.14260/#post-159849' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/159849/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-159853" class="message" data-author="AlienX">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="AlienX" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">AlienX</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Ah i see...<br /> Assuming that both servers are running on the same server, you can use TASKKILL, also doing it
                        this way will mean that you wont need a plugin on the oxide server either.<br />
                        <ol>
                            <li>Create a batch file, maybe in c:\scripts or something, call it KillRustServers.bat</li>
                            <li>Create a new scheduled task in Windows to call this KillRustServers.bat every x hours or whatever you want your restart procedure to be.</li>
                            <li>Inside KillRustServers.bat, put the following:<br />
                                <div class="bbCodeBlock bbCodeCode">
                                    <div class="type">Code:</div>
                                    {% raw %}<pre>
TASKKILL /IM &quot;RustDedicated.exe&quot;
</pre>{% endraw %}
                                </div>You can also use the /F switch to forcefully close the application (this emulates closing a process via Task Manager for example) - However this could lead to
                                save file corruption<br />
                                <br />
                            </li>
                            <li>Save the file, now whenever the scheduled task runs, the RustDedicated.exe processes will be told to shutdown gracefully, then your :10 goto 10 segment of the rust
                                servers batch file will take hold and restart the servers for you.<br />
                                <br /> Please note:<br /> TaskKill will kill ANY process running with the name given, if you have 10 RustDedicated.exe processes running, taskkill will send the stop
                                command to each one.</li>
                        </ol>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">AlienX</a>,</span>
                        <a href="{{ '/threads/scheduled-restart-setup.14260/#post-159853' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 6, 2016 at 11:58 AM">Jan 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/scheduled-restart-setup.14260/#post-159853' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/159853/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-159926" class="message" data-author="Axy">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Axy" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Axy</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Thanks for the detailed description.<br /> The only section I need more explanation is section 4. What do you
                        mean by :10 goto 10?<br />
                        <br /> Also, is it possible to send a server message 10 minutes before the shutdown?<br />
                        <br /> Thanks! <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Axy</a>,</span>
                        <a href="{{ '/threads/scheduled-restart-setup.14260/#post-159926' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 6, 2016 at 5:22 PM">Jan 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/scheduled-restart-setup.14260/#post-159926' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/159926/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-159930" class="message" data-author="AlienX">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="AlienX" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">AlienX</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> No problem.<br /> Sorry the :10 goto 10 is my programming side coming out, let me explain it more in depth.<br />
                        <br /> You&#039;re servers starting batch file might look something like this:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
@echo off
cls
:startRustDedicated -batchmode -nographics +server.ip 0.0.0.0 +rcon.ip 0.0.0.0 +server.port 28015 +rcon.port 28016 +rcon.password &quot;changeme&quot; +server.maxplayers 10 +server.hostname &quot;My Oxide Server&quot; +server.identity &quot;my_server_identity&quot; +server.level &quot;Procedural Map&quot; +server.seed 12345 +server.worldsize 4000 +server.saveinterval 300 +server.globalchat true +server.description &quot;Powered by Oxide&quot; +server.headerimage &quot;http://oxidemod.org/styles/oxide/logo.png&quot; +server.url &quot;http://oxidemod.org&quot;@echo.
@echo Restarting server...
@echo.
goto start
</pre>{% endraw %}
                        </div>The :10 goto 10 referrers to the :start, goto start elements of the file, just in case you are unsure what these do:<br /> :start is the name of a label in a batch
                        script, labels are like anchor points within a batch file, at any point you&#039;re able to tell the command processor to jump back to a label, you do this via goto LABELNAME
                        (in this case, start).<br />
                        <br /> So, here is what the batch file does:<br />
                        <ol>
                            <li>@echo off - This stops the command processor from printing such things as current working directory paths, it also makes using the &#039;echo&#039; command more
                                friendly.</li>
                            <li>cls - this clears the command prompt screen of all text</li>
                            <li>:start - create a new label here</li>
                            <li>RustDedicated - Start the rust dedicated server, the command processor will stop here until the RustDedicated.exe process has ended.</li>
                            <li>echo Restarting Server... - Echo &quot;Restarting Server...&quot; to the command prompt window</li>
                            <li>goto start - Jump back up to the start label and continue execution (in this instance, it will jump back up to number 4)</li>
                        </ol>This creates a loop, where if the RustDedicated.exe either was turned off, or a crash happened the command processor would restart the process.<br />
                        <br /> In answer to your server message query, Yes! - but ONLY in your Oxide-Enabled server, you can again use the TimedExecute plugin for this.<br />
                        <br /> While it could be done for your un-modded server, it&#039;s not currently possible unless someone builds a command-line RCON tool for Rust to push commands to the server
                        before a shutdown is initiated. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">AlienX</a>,</span>
                        <a href="{{ '/threads/scheduled-restart-setup.14260/#post-159930' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 6, 2016 at 5:34 PM">Jan 6, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/scheduled-restart-setup.14260/#post-159930' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/159930/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
</ol>
