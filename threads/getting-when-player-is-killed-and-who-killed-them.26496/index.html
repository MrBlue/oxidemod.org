---
layout: forums
title: 'Getting when player is killed and who killed them?'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/getting-when-player-is-killed-and-who-killed-them.26496/' | prepend: site.baseurl }}">Getting when player is killed and who killed them?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">Anyan</a>, <a href="{{ '/threads/getting-when-player-is-killed-and-who-killed-them.26496/' | prepend: site.baseurl }}"><span class="DateTime"
                title="Jul 23, 2017 at 10:50 PM">Jul 23, 2017</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-339559" class="message" data-author="Anyan">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Anyan" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Anyan</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Hello. Im trying to get when a player is killed and then reward the player who killed them. But I can&#039;t seem
                        to get it working... I&#039;ve tried to do it on the OnPlayerDie() hook but it also fires when the player is downed. I&#039;ve also tried to get BasePlayer.IsDead() but it
                        returns false even when the player is killed from the downed state. All I want to get is the Player who killed them and the distance they got killed from. I have tried to look
                        at other plugins like death notes to see how they do it but can&#039;t seem to figure it out. Thanks in advance. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Anyan</a>,</span>
                        <a href="{{ '/threads/getting-when-player-is-killed-and-who-killed-them.26496/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jul 23, 2017 at 10:50 PM">Jul 23, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/getting-when-player-is-killed-and-who-killed-them.26496/' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/339559/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-339565" class="message" data-author="Anyan">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Anyan" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Anyan</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Nvm got it woking <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Anyan</a>,</span>
                        <a href="{{ '/threads/getting-when-player-is-killed-and-who-killed-them.26496/#post-339565' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Jul 23, 2017 at 11:28 PM">Jul 23, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/getting-when-player-is-killed-and-who-killed-them.26496/#post-339565' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/339565/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-339566" class="message" data-author="Ryan">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Ryan" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Ryan</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Anyan">
                            <aside>
                                <div class="attribution type">Anyan said: <a href="#post-339565" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Nvm got it woking</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Remember with OnPlayerDie() the hitinfo can sometimes be null depending on the scenario.<br /> [DOUBLEPOST=1500849215][/DOUBLEPOST]I&#039;d recommend using
                        OnEntityDeath() <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Ryan</a>,</span>
                        <a href="{{ '/threads/getting-when-player-is-killed-and-who-killed-them.26496/#post-339566' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Jul 23, 2017 at 11:33 PM">Jul 23, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/getting-when-player-is-killed-and-who-killed-them.26496/#post-339566' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/339566/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-339708" class="message" data-author="Rebajas">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Rebajas" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Rebajas</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> How did you get this working in the end? I have a script that also triggers when the player is downed as opposed
                        to just &#039;on death&#039;.<br />
                        <br /> Thanks. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Rebajas</a>,</span>
                        <a href="{{ '/threads/getting-when-player-is-killed-and-who-killed-them.26496/#post-339708' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Jul 24, 2017 at 8:00 PM">Jul 24, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/getting-when-player-is-killed-and-who-killed-them.26496/#post-339708' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/339708/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-339710" class="message" data-author="Anyan">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Anyan" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Anyan</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I did OnPlayerDie() then I just waited till the next tick so the info could get filled out.<br /> void
                        OnPlayerDie(BasePlayer player, HitInfo hitInfo)<br /> {<br /> NextTick(() =&gt;<br /> {<br /> // Your code then you can get the BaseEntity that shot them by doing
                        hitInfo?.Initiator and then .ToPlayer() to get the BasePlayer and you can just do player.IsDead() to check if he is dead<br /> });<br /> } <div class="messageTextEndMarker">
                            &nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Anyan</a>,</span>
                        <a href="{{ '/threads/getting-when-player-is-killed-and-who-killed-them.26496/#post-339710' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Jul 24, 2017 at 8:04 PM">Jul 24, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/getting-when-player-is-killed-and-who-killed-them.26496/#post-339710' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/339710/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
</ol>
