---
layout: forums
title: '[C#] ChatCommand based on Config File'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/c-chatcommand-based-on-config-file.6952/' | prepend: site.baseurl }}">[C#] ChatCommand based on Config File</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">TheRotAG</a>, <a href="{{ '/threads/c-chatcommand-based-on-config-file.6952/' | prepend: site.baseurl }}"><span class="DateTime" title="Feb 20, 2015 at 1:01 PM">Feb 20,
                2015</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-68478" class="message" data-author="TheRotAG">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="TheRotAG" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">TheRotAG</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">How could we do something like:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
void CreateDefaultConfig()
{
     commands.Test = &quot;test&quot;; 
}[ChatCommand(commands.Test)] //make ChatCommand read commands.Test or whatever is the option gave by you guys, so it will be possible to let the server owner choose its own commands.void cmdTest(BasePlayer player, string command, string[] args)
{
      //some function here
}       </pre>{% endraw %}
                        </div>[DOUBLEPOST=1424439601][/DOUBLEPOST]With a Static it works:<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>
public static class Global
        {   
            public const string CommandTest = &quot;test&quot;; //change commands.Test from the ChatCommand to CommandTest seems to work! -- now I need to know how to store the &quot;test&quot; command from the config file inside this var
        }
</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">TheRotAG</a>,</span>
                        <a href="{{ '/threads/c-chatcommand-based-on-config-file.6952/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 20, 2015 at 1:01 PM">Feb 20, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/c-chatcommand-based-on-config-file.6952/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/68478/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-70476" class="message" data-author="Xephiro">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Xephiro" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Xephiro</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">You can try with than:<br />
                        <br /> On Loaded:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>void Loaded()
{
    LoadConfig();
    ReadConfig();
    LoadAuthLevelsData();    Command command = Interface.GetMod().GetLibrary&lt;Command&gt;(&quot;Command&quot;);
    command.AddChatCommand(YOUR_CONFIG_VAR_HERE, (Plugin)this, &quot;MyCommand&quot;);
}</pre>{% endraw %}
                        </div>On your command method:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>[HookMethod(&quot;MyCommand&quot;)]
void MyCommand(BasePlayer player, string cmd, string[] args)
{
     //Anything here
}</pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Xephiro</a>,</span>
                        <a href="{{ '/threads/c-chatcommand-based-on-config-file.6952/#post-70476' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 28, 2015 at 7:37 PM">Feb 28, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/c-chatcommand-based-on-config-file.6952/#post-70476' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/70476/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
</ol>
