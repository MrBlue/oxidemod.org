---
layout: forums
title: 'Fixed - NullReferenceException with FileCounter.CountFolder on server save'
breadcrumbs:
 - "Game Discussion": "/categories/game-discussion.106/"
 - "Reign of Kings Discussion": "/forums/reign-of-kings-discussion.62/"
---
<div class="titleBar">
    <h1>
        <span class="prefix prefixLightGreen">Fixed</span> <a
            href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/' | prepend: site.baseurl }}">NullReferenceException with FileCounter.CountFolder on server
            save</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/reign-of-kings-discussion.62/' | prepend: site.baseurl }}">Reign of Kings Discussion</a>' started by <a class="username"
            dir="auto">Bl4ckSkull666</a>, <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/' | prepend: site.baseurl }}"><span class="DateTime"
                title="May 16, 2017 at 7:07 PM">May 16, 2017</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-324639" class="message" data-author="Bl4ckSkull666">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Bl4ckSkull666" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Bl4ckSkull666</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Hello Wulf and other Devs of OxideMod,<br />
                        <br /> since one of you have update the support from R13 to R14 , i&#039;ll get an error on save plugins on running server. A next action ingame will be crash the server
                        full.<br />
                        <br /> I know, dont save/work if the system run, but for building and testing it&#039;s really good to see errors in own code.<br />
                        <br /> Here is the error after plugin recompiling successful.<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>NullReferenceException: Object reference not set to an instance of an object</pre>{% endraw %}
                        </div>Before it was updated to R14 support it has worked fine to recompile plugins by active server. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Bl4ckSkull666</a>,</span>
                        <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="May 16, 2017 at 7:07 PM">May 16, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/324639/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-324641" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Check your oxide/logs for the full error please. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/#post-324641' | prepend: site.baseurl }}" title="Permalink"
                            class="datePermalink"><span class="DateTime" title="May 16, 2017 at 7:10 PM">May 16, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/#post-324641' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/324641/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-324643" class="message" data-author="Bl4ckSkull666">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Bl4ckSkull666" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Bl4ckSkull666</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>[Debug]NullReferenceException: Object reference not set to an instance of an object
(wrapper stelemref) object:stelemref (object,intptr,object)
FileCounter.CountFolder (UInt32 key)
FileCounter.OnEnable ()
UnityEngine.Behaviour:set_enabled(Boolean)
CodeHatch.Engine.Networking.PeasantBurner:GetExpectedResponse(UInt32)
CodeHatch.Engine.Networking.PeasantBurner:GetExpectedResponseMulti(UInt32)
CodeHatch.Engine.Networking.PeasantBurner:CycleKey()
CodeHatch.Engine.Networking.PeasantBurner:ReauthenticateClients()
CodeHatch.Engine.Networking.PeasantBurner:Update()
</pre>{% endraw %}
                        </div>And this error is since the same time on server start up:<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>[Error] Failed to load extension Oxide.Core.Python (MissingMethodException: Method not found: 'Oxide.Core.VersionNumber..ctor'.)
[Stacktrace]   at Oxide.Core.Extensions.ExtensionManager.LoadExtension (System.String filename) [0x00000] in &lt;filename unknown&gt;:0 </pre>{% endraw %}
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Bl4ckSkull666</a>,</span>
                        <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/#post-324643' | prepend: site.baseurl }}" title="Permalink"
                            class="datePermalink"><span class="DateTime" title="May 16, 2017 at 7:26 PM">May 16, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/#post-324643' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/324643/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-324646" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Bl4ckSkull666">
                            <aside>
                                <div class="attribution type">Bl4ckSkull666 said: <a href="#post-324643" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>[Debug]NullReferenceException: Object reference not set to an instance of an object
(wrapper stelemref) object:stelemref (object,intptr,object)
FileCounter.CountFolder (UInt32 key)
FileCounter.OnEnable ()
UnityEngine.Behaviour:set_enabled(Boolean)
CodeHatch.Engine.Networking.PeasantBurner:GetExpectedResponse(UInt32)
CodeHatch.Engine.Networking.PeasantBurner:GetExpectedResponseMulti(UInt32)
CodeHatch.Engine.Networking.PeasantBurner:CycleKey()
CodeHatch.Engine.Networking.PeasantBurner:ReauthenticateClients()
CodeHatch.Engine.Networking.PeasantBurner:Update()
</pre>{% endraw %}
                                        </div>And this error is since the same time on server start up:<br />
                                        <br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            {% raw %}<pre>[Error] Failed to load extension Oxide.Core.Python (MissingMethodException: Method not found: 'Oxide.Core.VersionNumber..ctor'.)
[Stacktrace]   at Oxide.Core.Extensions.ExtensionManager.LoadExtension (System.String filename) [0x00000] in &lt;filename unknown&gt;:0 </pre>{% endraw %}
                                        </div>
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>The latest build of Oxide is for Reign of Kings R15, so make sure your server is fully updated.<br />
                        <br /> The 2nd error is from using an outdated Python extension, which we haven&#039;t bundled for a few months now. If you do not use Python plugins (.py), you can remove it
                        instead of updating it. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/#post-324646' | prepend: site.baseurl }}" title="Permalink"
                            class="datePermalink"><span class="DateTime" title="May 16, 2017 at 7:35 PM">May 16, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/#post-324646' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/324646/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-324648" class="message" data-author="Bl4ckSkull666">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Bl4ckSkull666" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Bl4ckSkull666</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> It&#039;s<b> since </b>Update to R14 in. currently too. I&#039;m use Oxide 2.0.3250 which the newest server files
                        of codeHatch for RoK. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Bl4ckSkull666</a>,</span>
                        <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/#post-324648' | prepend: site.baseurl }}" title="Permalink"
                            class="datePermalink"><span class="DateTime" title="May 16, 2017 at 7:39 PM">May 16, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/#post-324648' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/324648/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-324650" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Bl4ckSkull666">
                            <aside>
                                <div class="attribution type">Bl4ckSkull666 said: <a href="#post-324648" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">It&#039;s<b> since </b>Update to R14 in. currently too. I&#039;m use Oxide 2.0.3250 which the newest server files of codeHatch for RoK.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>I can&#039;t reproduce it, so I&#039;d suggest making sure your server is fully updated. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/#post-324650' | prepend: site.baseurl }}" title="Permalink"
                            class="datePermalink"><span class="DateTime" title="May 16, 2017 at 7:42 PM">May 16, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/#post-324650' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/324650/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-324659" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> @<a
                            href="http://oxidemod.org/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/members/bl4ckskull666.189457/"
                            class="internalLink">Bl4ckSkull666</a>, managed to fine the cause and reproduce the issue, not sure why it wasn&#039;t noticed earlier. It will be in the next snapshot and
                        release shortly. Thanks for the report! <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/#post-324659' | prepend: site.baseurl }}" title="Permalink"
                            class="datePermalink"><span class="DateTime" title="May 16, 2017 at 8:17 PM">May 16, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/#post-324659' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/324659/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-324677" class="message" data-author="Bl4ckSkull666">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Bl4ckSkull666" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Bl4ckSkull666</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Great , i have said to thx ;-) working again without server crashing :-D <div class="messageTextEndMarker">&nbsp;
                        </div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Bl4ckSkull666</a>,</span>
                        <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/#post-324677' | prepend: site.baseurl }}" title="Permalink"
                            class="datePermalink"><span class="DateTime" title="May 16, 2017 at 10:18 PM">May 16, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/nullreferenceexception-with-filecounter-countfolder-on-server-save.25490/#post-324677' | prepend: site.baseurl }}" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/324677/permalink">#8</a>
                </div>
            </div>
        </div>
    </li>
</ol>
