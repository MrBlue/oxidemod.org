---
layout: forums
title: 'Resolving an NRE in my code (C#)'
breadcrumbs:
 - "Plugin Development": "/forums/plugin-development.105/"
 - "Rust Development": "/forums/rust-development.4/"
---
<div class="titleBar">
    <h1>
        <a href="{{ '/threads/resolving-an-nre-in-my-code-c.12323/' | prepend: site.baseurl }}">Resolving an NRE in my code (C#)</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="{{ '/forums/rust-development.4/' | prepend: site.baseurl }}">Rust Development</a>' started by <a class="username"
            dir="auto">PsychoTea</a>, <a href="{{ '/threads/resolving-an-nre-in-my-code-c.12323/' | prepend: site.baseurl }}"><span class="DateTime" title="Oct 18, 2015 at 8:57 PM">Oct 18,
                2015</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-137213" class="message" data-author="PsychoTea">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="PsychoTea" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">PsychoTea</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Hey.<br />
                        <br /> So I keep getting a random NRE on this function, and I can&#039;t seem to figure out for the life of me what the problem is... I&#039;m hoping you guys can because this
                        has bewildered me.<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            {% raw %}<pre>void UpdateScoreboard()
        {
            scoreboardList.Clear();
            var items = from pair in points
                        orderby pair.Value descending
                        select pair;
            foreach (KeyValuePair&lt;BasePlayer, int&gt; pair in items)
            {
                string playerName = pair.Key.displayName;
                string text = string.Format(playerName + &quot;, &quot; + pair.Value);
                scoreboardList.Add(text);
            }
            string scoreboardListCsv = string.Join(&quot;\n&quot;, scoreboardList.ToArray());            foreach (BasePlayer playingPlayer in players)
            {
                if (playingPlayer.net.connection != null &amp;&amp; !playingPlayer.IsSleeping())
                {
                    var obj4 = new Facepunch.ObjectList?(new Facepunch.ObjectList(&quot;Scoreboard&quot;));
                    CommunityEntity.ServerInstance.ClientRPCEx(new Network.SendInfo() { connection = playingPlayer.net.connection }, null, &quot;DestroyUI&quot;, obj4);
                    var obj24 = new Facepunch.ObjectList?(new Facepunch.ObjectList(scoreGUI.Replace(&quot;{text}&quot;, scoreboardListCsv).Replace(&quot;{timeremaining}&quot;, gametimerint.ToString() + &quot; seconds left&quot;)));
                    CommunityEntity.ServerInstance.ClientRPCEx(new Network.SendInfo() { connection = playingPlayer.net.connection }, null, &quot;AddUI&quot;, obj24);
                }
            }
        }</pre>{% endraw %}
                        </div>Thanks, PsychoTea. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">PsychoTea</a>,</span>
                        <a href="{{ '/threads/resolving-an-nre-in-my-code-c.12323/' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Oct 18, 2015 at 8:57 PM">Oct 18, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/resolving-an-nre-in-my-code-c.12323/' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/137213/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-137215" class="message staff" data-author="Calytic">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a href="members/calytic.58712/" class="avatar Avm" data-avatarhtml="true"><img src="data/avatars/m/58/58712.jpg?1463423255" width="96" height="96" alt="Calytic" /></a>
                </div>
                <h3 class="userText">
                    <a href="members/calytic.58712/" class="username" dir="auto" itemprop="name">Calytic</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                    <em class="userBanner bannerGreen wrapped" itemprop="title"><span class="before"></span><strong>Community Mod</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I don&#039;t know why we can&#039;t get trace logs for NRE&#039;s like this. But in any case, your best bet is to
                        comment out each section of the code until you identify which line is causing the NRE by process of elimination. Nothing here really sticks out at me as a potential
                        cause.<br />
                        <br /> You might want to check the playingPlayer.net != null in addition to playingPlayer.net.connection. Just a thought.. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a href="members/calytic.58712/" class="username author" dir="auto">Calytic</a>,</span>
                        <a href="{{ '/threads/resolving-an-nre-in-my-code-c.12323/#post-137215' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Oct 18, 2015 at 9:12 PM">Oct 18, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/resolving-an-nre-in-my-code-c.12323/#post-137215' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/137215/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-137243" class="message" data-author="PsychoTea">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="PsychoTea" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">PsychoTea</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> The problem is with commenting parts out is the NRE is extremely random, and as it&#039;s part of a game mode
                        it&#039;s very tedious to test.<br /> Good idea on the playingPlayer.net != null, I&#039;ll try that. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">PsychoTea</a>,</span>
                        <a href="{{ '/threads/resolving-an-nre-in-my-code-c.12323/#post-137243' | prepend: site.baseurl }}" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Oct 18, 2015 at 10:51 PM">Oct 18, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="{{ '/threads/resolving-an-nre-in-my-code-c.12323/#post-137243' | prepend: site.baseurl }}" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/137243/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
</ol>
